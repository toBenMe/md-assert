window._zhugeSdk=function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t['default']}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=30)}([function(t,e,i){var r,n,o,s,a,c,u,h,l,p,f,d=i(3),g=window.navigator,m=window.document,v=g.userAgent,y=Array.prototype,w=Object.prototype,b=w.toString,S=y.forEach,k=Array.isArray,T=y.slice,_=w.hasOwnProperty,E={},x=[],A=null,I={replacezgSecretParams:function(t){var e=this.JSONDecode(window.sessionStorage.getItem(d.SESSION_KEYS.IS_ANALYSIS_MODE)),i=window.sessionStorage.getItem("zhugeAnalysisModeType");return"string"==typeof t&&/^(http|https)/.test(t)&&-1!==t.indexOf("zgSecret")||e&&!0===e.flag||"heatMap"===i||"analysis"===i?t.replace(/[\?&]?zgSecret=\w+-[\w-]{36}/,""):t},throttle:function(t,e,i){var r=null;return function(){var n=arguments;r||(r=setTimeout((function(){t.apply(i,n),r=null}),e))}},debounce:function(t,e,i){return function(){var r=i||this,n=arguments;clearTimeout(t.id),t.id=setTimeout((function(){t.apply(r,n)}),e)}},each:function(t,e,i){if(null!=t)if(S&&t.forEach===S)t.forEach(e,i);else if(t.length===+t.length){for(var r=0,n=t.length;r<n;r++)if(r in t&&e.call(i,t[r],r,t)===E)return}else for(var o in t)if(_.call(t,o)&&e.call(i,t[o],o,t)===E)return},extend:function(t){return I.each(T.call(arguments,1),(function(e){for(var i in e)void 0!==e[i]&&(t[i]=e[i])})),t},isUndefined:function(t){return void 0===t},type:function(t){return b.call(t)},isString:function(t){return"[object String]"==b.call(t)},isArray:k||function(t){return"[object Array]"===b.call(t)},isFunction:function(t){return"[object Function]"===b.call(t)},isObject:function(t){return"[object Object]"===b.call(t)&&void 0!==t},strMiddleSplit:function(t,e){e=e||{maxLength:20,beginLength:8,endLength:8,replaceStr:"..."};var i={fullCharReg:/[^\x00-\xff]/,fullCharsReg:/[^\x00-\xff]/g,anyChars:/[\S\s]{1}/g},r=((t+="").match(i.fullCharsReg)||[]).length,n=[],o=0,s=[],a=0;if(t.length+r>e.maxLength){for(var c=t.match(i.anyChars),u=0;u<c.length;u++){var h=c[u];if(o>=e.beginLength)break;o+=i.fullCharReg.test(h)?2:1,n.push(h)}var l=c.reverse();for(u=0;u<l.length;u++){h=l[u];if(a>=e.endLength)break;a+=i.fullCharReg.test(h)?2:1,s.push(h)}return n.join("")+e.replaceStr+s.reverse().join("")}return t},hasMobileSdk:function(){var t=function(){return!!(window.zhugeTracker||window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.zhugeTracker)},e=/ZGSDK/.test(window.navigator.userAgent)||t(),i=t(),r=this;return i||A||(A=setInterval((function(){if(t()){for(var e=0;e<x.length;e++){var i=x[e],n=r.hasMobileSdk();n[i[0]].apply(n,i[1])}x=[],clearInterval(A)}}),50)),{flag:e,track:function(t,r){e&&(i?window.zhugeTracker?window.zhugeTracker.trackProperty(t,I.JSONEncode(r)):window.webkit.messageHandlers.zhugeTracker.postMessage({type:"track",name:t,prop:r}):x.push(["track",[t,r]]))},identify:function(t,r){e&&(i?window.zhugeTracker?window.zhugeTracker.identifyProperty(t,I.JSONEncode(r)):window.webkit.messageHandlers.zhugeTracker.postMessage({type:"identify",name:t,prop:r}):x.push(["identify",[t,r]]))},autoTrack:function(t,r){e&&(i?window.zhugeTracker?window.zhugeTracker.autoTrackProperty(t,I.JSONEncode(r)):window.webkit.messageHandlers.zhugeTracker.postMessage({type:"autoTrack",name:t,prop:r}):x.push(["autoTrack",[t,r]]))},dr:function(t,r){e&&(i?window.zhugeTracker?window.zhugeTracker.trackDurationOnPage?window.zhugeTracker.trackDurationOnPage(t,I.JSONEncode(r)):window.zhugeTracker.autoTrackProperty&&window.zhugeTracker.autoTrackProperty(t,I.JSONEncode(r)):window.webkit.messageHandlers.zhugeTracker.postMessage({type:"dr",name:t,prop:r}):x.push(["dr",[t,r]]))},getDid:function(){if(e&&window.zhugeTracker){if(I.isString(window.zhugeTracker.did))return window.zhugeTracker.did;if(I.isFunction(window.zhugeTracker.getDid))return window.zhugeTracker.getDid();if(I.isString(window.zhugeDid))return window.zhugeDid}}}},includes:function(t,e){return-1!==t.indexOf(e)},encode:function(t){var e={};for(var i in t){var r=t[i];try{r=I.replacezgSecretParams(t[i])}catch(e){r=t[i]}/^\$/.test(i)?e[i]=r:e["_"+i]=r}return e},truncate:function(t,e){var i;return"string"==typeof t?i=t.slice(0,e):I.isArray(t)?(i=[],I.each(t,(function(t){i.push(I.truncate(t,e))}))):I.isObject(t)?(i={},I.each(t,(function(t,r){i[r]=I.truncate(t,e)}))):i=t,i},strip_empty_properties:function(t){var e={};return I.each(t,(function(t,i){I.isString(t)&&t.length>0&&(e[i]=t)})),e},trim:function(t){return(t||"").replace(/\s+/g," ").replace(/^\s+/,"").replace(/\s+$/,"")},random:function(t,e){return Math.round(Math.random()*(e-t))+t},randomAesKey:function(){for(var t="",e=0;e<32;e++){var i=Math.floor(16*Math.random());t+="0123456789abcdef".substring(i,i+1)}return t},jsonp:function(t,e,i){var r="cb"+Math.random().toString().split(".")[1],n=m.createElement("script");n.src=t+"?callback="+r,window[r]=function(t){e(t)},n.onerror=function(){i()},m.head?m.head.appendChild(n):m.getElementsByTagName("head")[0].appendChild(n)},isEqual:function(t,e){if(this.type(t)!==this.type(e))return!1;if(this.isObject(t)){var i=!0;for(var r in t)t[r]!==e[r]&&(i=!1);return i}return this.JSONEncode(t)===this.JSONEncode(e)},JSONEncode:function(t){var e=function(t){var e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return e.lastIndex=0,e.test(t)?'"'+t.replace(e,(function(t){var e=i[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'},i=function(t,r){var n="",o=0,s="",a="",c=0,u=n,h=[],l=r[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),typeof l){case"string":return e(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(n+="    ",h=[],"[object Array]"===b.apply(l)){for(c=l.length,o=0;o<c;o+=1)h[o]=i(o,l)||"null";return a=0===h.length?"[]":n?"[\n"+n+h.join(",\n"+n)+"\n"+u+"]":"["+h.join(",")+"]",n=u,a}for(s in l)_.call(l,s)&&(a=i(s,l))&&h.push(e(s)+(n?": ":":")+a);return a=0===h.length?"{}":n?"{"+h.join(",")+u+"}":"{"+h.join(",")+"}",n=u,a}};return i("",{"":t})},JSONDecode:(c={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},u=function(t){throw{name:"SyntaxError",message:t,at:n,text:s}},h=function(t){return t&&t!==o&&u("Expected '"+t+"' instead of '"+o+"'"),o=s.charAt(n),n+=1,o},l=function(){var t,e="";for("-"===o&&(e="-",h("-"));o>="0"&&o<="9";)e+=o,h();if("."===o)for(e+=".";h()&&o>="0"&&o<="9";)e+=o;if("e"===o||"E"===o)for(e+=o,h(),"-"!==o&&"+"!==o||(e+=o,h());o>="0"&&o<="9";)e+=o,h();if(t=+e,isFinite(t))return t;u("Bad number")},p=function(){var t,e,i,r="";if('"'===o)for(;h();){if('"'===o)return h(),r;if("\\"===o)if(h(),"u"===o){for(i=0,e=0;e<4&&(t=parseInt(h(),16),isFinite(t));e+=1)i=16*i+t;r+=String.fromCharCode(i)}else{if("string"!=typeof c[o])break;r+=c[o]}else r+=o}u("Bad string")},f=function(){for(;o&&o<=" ";)h()},a=function(){switch(f(),o){case"{":return function(){var t,e={};if("{"===o){if(h("{"),f(),"}"===o)return h("}"),e;for(;o;){if(t=p(),f(),h(":"),Object.hasOwnProperty.call(e,t)&&u('Duplicate key "'+t+'"'),e[t]=a(),f(),"}"===o)return h("}"),e;h(","),f()}}u("Bad object")}();case"[":return function(){var t=[];if("["===o){if(h("["),f(),"]"===o)return h("]"),t;for(;o;){if(t.push(a()),f(),"]"===o)return h("]"),t;h(","),f()}}u("Bad array")}();case'"':return p();case"-":return l();default:return o>="0"&&o<="9"?l():function(){switch(o){case"t":return h("t"),h("r"),h("u"),h("e"),!0;case"f":return h("f"),h("a"),h("l"),h("s"),h("e"),!1;case"n":return h("n"),h("u"),h("l"),h("l"),null;default:u("Unexpected '"+o+"'")}}()}},function(t){return null===t?null:void 0!==t?(s=t,n=0,o=" ",e=a(),f(),o&&u("Syntax error"),e):void 0;var e}),HTTPBuildQuery:function(t,e){var i,r,n=[];return void 0===e&&(e="&"),I.each(t,(function(t,e){i=encodeURIComponent(t.toString()),r=encodeURIComponent(e),n[n.length]=r+"="+i})),n.join(e)},getUrlParams:function(t){function e(t){var e=t;try{e=decodeURIComponent(e)}catch(t){}return e}for(var i={},r=t.replace(/^\S*?\?/,"").split("&"),n=0;n<r.length;n++){var o=r[n],s=e(o.split("=")[0]),a=e(o.split("=")[1]);i[s]=a}return i},getQueryParam:function(t,e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&#]"+e+"=([^&#]*)").exec(t);if(null===i||i&&"string"!=typeof i[1]&&i[1].length)return"";var r=i[1];try{r=decodeURIComponent(decodeURIComponent(r)).replace(/\+/g," ")}catch(t){}return r},getDomain:function(t){var e=(t+="/").match(/\/\/\S*?\//);return e&&e.length?e[0].replace(/\//g,""):""},register_event:function(){function t(e){return e&&(e.preventDefault=t.preventDefault,e.stopPropagation=t.stopPropagation),e}return t.preventDefault=function(){this.returnValue=!1},t.stopPropagation=function(){this.cancelBubble=!0},function(e,i,r,n){if(e)if(e.addEventListener&&!n)e.addEventListener(i,r,!1);else{var o="on"+i,s=e[o];e[o]=function(e,i,r){return function(n){if(n=n||t(window.event)){var o,s,a=!0;return I.isFunction(r)&&(o=r(n)),s=i.call(e,n),!1!==o&&!1!==s||(a=!1),a}}}(e,r,s)}else console&&console.error("No valid element provided to register_event")}}(),cookie:{get:function(t){for(var e=t+"=",i=m.cookie.split(";"),r=0;r<i.length;r++){for(var n=i[r];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(e))return decodeURIComponent(n.substring(e.length,n.length))}return null},parse:function(t){var e;try{e=I.JSONDecode(I.cookie.get(t))||{}}catch(t){}return e},set:function(t,e,i,r,n,o){var s="",a="",c="";if(r){var u=m.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),h=u?u[0]:"";s=h?"; domain=."+h:""}if(o||this.remove(t),i){var l=new Date;l.setTime(l.getTime()+24*i*60*60*1e3),a="; expires="+l.toGMTString()}n&&(c="; secure"),m.cookie=t+"="+encodeURIComponent(e)+a+"; path=/"+s+c},remove:function(t){var e=m.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),i=e?e[0]:"";I.cookie.set(t,"",-1,"."+i,"",!0)}},info:{campaignParams:function(t){t||(t="{}"),I.isString(t)&&(t=I.JSONDecode(t));var e="utm_source utm_medium utm_campaign utm_content utm_term".split(" "),i="",r={};return I.each(e,(function(e){((i=I.getQueryParam(m.URL,e)).length||t[e])&&(r["$"+e]=t[e]||i)})),r},searchEngine:function(t){return 0===t.search("https?://(.*)google.([^/?]*)")?"google":0===t.search("https?://(.*)baidu.com")?"baidu":0===t.search("https?://(.*)sogou.com")?"sogou":0===t.search("https?://(.*)haosou.com")?"haosou":null},searchKeyword:function(t){var e=I.info.searchEngine(t);return"google"==e?I.getQueryParam(t,"q"):"baidu"==e?I.getQueryParam(t,"wd"):"sogou"==e?I.getQueryParam(t,"query"):"haosou"==e?I.getQueryParam(t,"q"):null},referringDomain:function(t){var e=t.split("/");return e.length>=3?e[2]:""},browser:function(t,e,i){e=e||"";return i?I.includes(t,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":I.includes(t,"FBIOS")?"Facebook Mobile":I.includes(t,"Chrome")?"Chrome":I.includes(t,"CriOS")?"Chrome iOS":I.includes(e,"Apple")?I.includes(t,"Mobile")?"Mobile Safari":"Safari":I.includes(t,"Android")?"Android Mobile":I.includes(t,"Konqueror")?"Konqueror":I.includes(t,"Firefox")?"Firefox":I.includes(t,"MSIE")||I.includes(t,"Trident/")?"Internet Explorer":I.includes(t,"Gecko")?"Mozilla":""},os:function(){var t=v;return/Windows/i.test(t)?/Phone/.test(t)?"Windows Mobile":"Windows":/(iPhone|iPad|iPod)/.test(t)?"iOS":/Android/.test(t)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":/Mac/i.test(t)?"Mac OS X":/Linux/.test(t)?"Linux":""},device:function(t){return/iPad/.test(t)?"iPad":/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":/Windows Phone/i.test(t)?"Windows Phone":/Android/.test(t)?"Android":""},resolution:function(){return screen.width+"*"+screen.height}},UUID:(r=function(){for(var t=1*new Date,e=0;t==1*new Date;)e++;return t.toString(16)+e.toString(16)},function(){var t=(screen.height*screen.width).toString(16);return r()+"-"+Math.random().toString(16).replace(".","")+"-"+function(t){var e,i,r=v,n=[],o=0;function s(t,e){var i,r=0;for(i=0;i<e.length;i++)r|=n[i]<<8*i;return t^r}for(e=0;e<r.length;e++)i=r.charCodeAt(e),n.unshift(255&i),n.length>=4&&(o=s(o,n),n=[]);return n.length>0&&(o=s(o,n)),o.toString(16)}()+"-"+t+"-"+r()})};t.exports=I},function(t,e,i){var r=i(0),n=!0;!function(){try{document.querySelector(":scope *")}catch(t){n=!1}}();var o={prefix:{expand:"zhuge-auto-track-",interface:"zhuge-interface-"},body:document.getElementsByTagName("body")[0],ready:function(t,e){if(this.body)t.call(e);else var i=this,r=setInterval((function(){window.document.body&&(i.body=window.document.body,clearInterval(r),t.call(e))}),50)},cssEscape:function(t){if(0==arguments.length)return console.error("`CSS.escape` requires an argument."),"";for(var e,i=String(t),r=i.length,n=-1,o="",s=i.charCodeAt(0);++n<r;)0!=(e=i.charCodeAt(n))?o+=e>=1&&e<=31||127==e||0==n&&e>=48&&e<=57||1==n&&e>=48&&e<=57&&45==s?"\\"+e.toString(16)+" ":(0!=n||1!=r||45!=e)&&(e>=128||45==e||95==e||e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122)?i.charAt(n):"\\"+i.charAt(n):o+="�";return o},addClass:function(t,e){var i=this.getAttr(t,"class")||"";new RegExp(e).test(i)||(i+=" "+e,o.setAttr(t,"class",r.trim(i)))},removeClass:function(t,e){var i=this.getAttr(t,"class")||"";o.setAttr(t,"class",r.trim(i.replace(e,"")))},bind:function(t,e,i,n){n=n||t;var o=function(e){if((e.target=e.target||e.srcElement,r.isFunction(i))&&!1===i.call(n,e||window.event,t))return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.returnValue&&(e.returnValue=!1),e.cancelBubble&&(e.cancelBubble=!0),!1};if(t.addEventListener)t.addEventListener(e,o,!0);else if(t.attachEvent)t.attachEvent("on"+e,o);else{var s="on"+e,a=t[s];t[s]=function(e){return r.isFunction(a)&&a.call(t,e||window.event),i.call(n,e||window.event,t)}}return{unbind:function(){t.removeEventListener?t.removeEventListener(e,o,!0):t.detachEvent&&t.detachEvent("on"+e,o)}}},data:function(t,e){var i=t.dataset||{};if(r.isString(e))return i[e];for(var n in e)i[n]=e[n]},getStylePropertyValue:function(t,e){return t&&e?window.getComputedStyle?window.getComputedStyle(t).getPropertyValue(e):t.currentStyle?t.currentStyle[e]:"":""},getTagName:function(t){return t&&t.tagName&&t.tagName.toLowerCase?t.tagName.toLowerCase():""},getAttr:function(t,e){return t&&t.getAttribute?t.getAttribute(e):""},setAttr:function(t,e,i){if(r.isObject(e))for(var n in e)t.setAttribute(n,e[n]);else t.setAttribute(e,i)},isValidLink:function(t){return"a"===this.getTagName(t)&&this.getAttr(t,"href")&&!/^javascript:/.test(this.getAttr(t,"href"))},is:function(t,e){for(var i=!1,r=this.query(e),n=t;n&&!i&&"body"!==this.getTagName(n);){for(var o=0,s=r.length;o<s;o++){if(r[o]===n){i=!0;break}}i||(n=this.getParent(n))}return{flag:i,target:n}},isClickAble:function(t,e,i,n){if(!t||this.isTextNode(t))return{flag:!1};var o=this.getTagName(t),s=this.getAttr(t,"type"),a=this.isValidLink(t),c={flag:!1,target:t,isValidLink:a,form:null};if(this.getAttr(t,"zgclickable")&&"body"!==o&&("input"!==o||/button|reset|submit/.test(s)))return c.flag=!0,c;switch(o){case"a":if(a){c.flag=!0;break}case"button":t.disabled||(c.flag=!0);break;case"select":case"textarea":c.flag=n;break;case"input":/button|reset|submit/.test(s)&&!t.disabled?(c.flag=!0,"submit"===s&&(c.form=t.form)):c.flag=n;break;case"body":c.flag=!1;break;default:if(this.hasBindClick(t)||r.isFunction(e)&&e(t))c.flag=!0;else if(!i)return this.isClickAble(this.getParent(t))}return c},hasBindClick:function(t){return!!(t.onclick||window.jQuery&&(window.jQuery._data||window.jQuery.data)&&r.isFunction(window.jQuery._data||window.jQuery.data)&&(window.jQuery._data||window.jQuery.data)(t,"events"))},getParent:function(t){return t.parentNode},getIndexInParent:function(t){for(var e=this.getParent(t),i=this.getSelector(t),r=o.query(e,i),n=[],s=0,a=r.length;s<a;s++){var c=r[s];this.getParent(c)===e&&n.push(c)}for(s=0,a=n.length;s<a;s++){if((c=n[s])===t)return s}return 0},getSelector:function(t){for(var e=this.getAttr(t,"id"),i=this.getTagName(t),n=r.trim(this.getAttr(t,"class")).split(/\s/),o=[],s=0,a=n.length;s<a;s++)new RegExp(this.prefix.interface+"|"+this.prefix.expand).test(n[s])||o.push(this.cssEscape(n[s]));return o=o.join("."),e?"#"+this.cssEscape(e):i+(o=o?"."+o:"")},getUniqueSelector:function(t,e){var i=this.getSelector(t);return/#/.test(i)||"body"===this.getTagName(t)?(e&&(i=i+">"+e),i):this.getParent(t)?(i+=":eq("+this.getIndexInParent(t)+")",e&&(i=i+">"+e),this.getUniqueSelector(this.getParent(t),i)):""},getFullContent:function(t){return t&&(t.textContent||t.innerText||t.value||this.getAttr(t,"type"))||""},getTextContent:function(t){var e=this.getFullContent(t),i=window.zhuge&&window.zhuge.config&&window.zhuge.config.privacySplitRule.privacy;i&&(e=e.replace(/([\w\.\-_]+)?\w+@[\w-_]+(\.\w+){1,}/gim,"*@*").replace(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi,"*<url>*").replace(/\d/g,"*").replace(/\s/g,""),window.__sdkprivacy&&r.isFunction(window.__sdkprivacy)&&(e=window.__sdkprivacy(e)||e));var n=null;window.zhuge&&(n=window.zhuge.config.privacySplitRule);try{r.isString(n)&&(n=r.JSONDecode(n))}catch(t){n=null}return i?r.strMiddleSplit(e,n||{maxLength:10,beginLength:3,endLength:3,replaceStr:"..."}):e},query:function(){try{var t="",e=window.document,i=/:eq\(\d+\)/g;if(r.isString(arguments[0])?t=arguments[0]:(e=arguments[0]||e,t=arguments[1]),this.isTextNode(e))return[];if(i.test(t)){for(var o=t.split(i),s=t.match(i),a=null,c=0,u=o.length;c<u;c++){var h=o[c].replace(/^>/,":scope>");if(!h)break;if(a=this.query(a||e,h),!(s.length>c))return a;var l=s[c].match(/\d+/)[0];if(!(a&&l<a.length))return[];a=a[l]}return[a]}var p=/:scope(?![\w-])/gi,f=null;if(!n&&e.setAttribute&&t&&p.test(t)){var d="q"+Math.floor(1e6*Math.random());return t=t.replace(p,"["+d+"]"),e.setAttribute(d,""),f=e.querySelectorAll(t),e.removeAttribute(d),f}return e.querySelectorAll(t)}catch(t){return[]}},isTextNode:function(t){return"#text"===t.nodeName},loadJs:function(t){t=r.extend({async:!0,src:"",onLoad:null,onError:null,context:null},t||{});var e=document.createElement("script");this.setAttr(e,{async:t.async,src:t.src}),this.bind(e,"load",t.onLoad,t.context),this.bind(e,"error",t.onError,t.context),document.body.appendChild(e)},supportTest:function(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}};window._zgDomUtil=o,t.exports=o},function(t,e,i){t.exports={log:function(){try{for(var t=arguments[0],e=["%c[sdk-"+t+"]: ","color: #0ea1eb;"],i=1;i<arguments.length;i++)e.push(arguments[i]);window.__zg__show__log__&&console.log.apply(console,e)}catch(t){}},error:function(){try{for(var t=arguments[0],e=["%c[sdk-"+t+"]: ","color: red;"],i=1;i<arguments.length;i++)e.push(arguments[i]);window.__zg__show__log__&&console.error.apply(console,e)}catch(t){}}}},function(t,e){t.exports={MODE:{NORMAL:0,CREATE:1,CREATING_EVENT:2,ADD_SAME:3,ADDING_SAME_AUTO:4,ADDING_SAME_CUSTOM:5,ADD_PROPERTY:6,ADDING_PROPERTY:7},SESSION_KEYS:{IS_ANALYSIS_MODE:"isZhugeVisualizerMode",PARAMS:"jsVisualizerParam"},URL:{DATA_LIST:"/data/datalist.jsp",DELETE_EVENT:"/appvisual/delete.jsp",CREATE_EVENT:"/appvisual/create.jsp",UPDATE_EVENT:"/appvisual/update.jsp",CHECK_NAME:"/appvisual/checkName.jsp",QUERY_VISUAL_LIST:"/appvisual/queryVisualList.jsp"}}},function(t,e,i){var r=i(1),n=i(0);t.exports=n.extend({getMousePos:function(t){var e=t||window.event;return{x:e.clientX,y:e.clientY}},getRect:function(t,e){var i=t.getBoundingClientRect(),r=this.css(t,"position");return{position:"fixed"===r?"fixed":"absolute",width:t.offsetWidth,height:t.offsetHeight,top:i.top+("fixed"===r||e?0:window.pageYOffset),bottom:i.bottom,left:i.left+("fixed"===r||e?0:window.pageXOffset),right:i.right}},getOffset:function(t){for(var e={position:"fixed"===this.css(t,"position")?"fixed":"absolute",width:t.offsetWidth,height:t.offsetHeight,top:t.offsetTop,left:t.offsetLeft};t.offsetParent;){var i=t.offsetParent;"fixed"===this.css(i,"position")&&(e.position="fixed"),e.top+=i.offsetTop,e.left+=i.offsetLeft,t=i}return e},css:function(t,e){if(n.isString(e))return window.getComputedStyle(t)[e];for(var i in e)t.style[i]=e[i]},addStyleRules:function(t){var e,i=document.createElement("style");document.head?document.head.appendChild(i):document.getElementsByTagName("head")[0].appendChild(i),e=i.sheet;for(var r=0,n=t.length;r<n;r++){var o=1,s=t[r],a=t[r][0],c="";"[object Array]"===Object.prototype.toString.call(s[1][0])&&(s=s[1],o=0);for(var u=s.length;o<u;o++){var h=s[o];c+=h[0]+":"+h[1]+(h[2]?" !important":"")+";\n"}e.insertRule(a+"{"+c+"}",e.cssRules.length)}},append:function(t,e){n.isString(e)?t.insertAdjacentHTML("beforeend",e):t.appendChild(e)},html:function(t,e){t.innerHTML=e},remove:function(t){t.parentNode&&t.parentNode.removeChild(t)},contains:function(t,e){for(var i=!1;this.getParent(e)&&"body"!==r.getTagName(e);){if(this.getParent(e)===t){i=!0;break}e=this.getParent(e)}return i},show:function(t,e){return n.isArray(t)?t.forEach((function(t){this.css(t,{display:e||"block"})}),this):this.css(t,{display:e||"block"}),t},hide:function(t){return n.isArray(t)?t.forEach((function(t){this.css(t,{display:"none"})}),this):this.css(t,{display:"none"}),t},child:function(t){for(var e=[],i=0,r=t.childNodes.length;i<r;i++)this.isTextNode(t.childNodes[i])||e.push(t.childNodes[i]);return e},siblings:function(t,e){var i=[];return this.child(this.getParent(t)).forEach((function(r){r!==t&&this.is(r,e)&&i.push(r)}),this),i},setContext:function(t,e){t.textContent=e},delegate:function(t,e,i,r,n){var o=this;return this.bind(t,e,(function(t){var e=t.target,s=o.is(e,i);if(s.flag)return r.call(n,t,s.target)}),n)},scroll:function(t){r.bind(t,"mousewheel",(function(e){var i=this.getRect(t).height,r=t.scrollHeight;(t.scrollTop===r-i&&e.deltaY>0||0===t.scrollTop&&e.deltaY<0)&&e.preventDefault()}),this)},prev:function(t){var e=t.previousSibling;return!e||this.isTextNode(t)?null:e},prevAll:function(t){for(var e=[];this.prev(t);)e.push(this.prev(t)),t=this.prev(t);return e},fixPosition:function(t){var e=this.css(t,"position");/absolute|fixed/.test(e)||this.css(t,{position:"relative"})},locate:function(t,e){var i=this.getRect(t,!0),r=this.getRect(e),n={top:i.top,left:i.left+i.width};n.top+r.height>=window.innerHeight&&(n.top=Math.max(n.top-(n.top+r.height-window.innerHeight),0)),n.left+r.width>=window.innerWidth&&(n.left=Math.max(i.left-r.width,0)),this.css(e,{top:n.top+"px",left:n.left+"px"})},removeData:function(t,e){delete(t.dataset||{})[e]},empty:function(t){return t.innerHTML="",t},scrollTo:function(t){var e=this.getRect(this.body),i=this.getRect(t),r=i.top-e.height/2,n=i.left-e.width/2;this.body.scrollTop=r,this.body.scrollLeft=n}},r)},function(t,e,i){var r=i(0),n=i(2),o=4;function s(){return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}function a(t,e){var i=t.responseText;if(!i)return null;switch(e){case"json":i=r.JSONDecode(i);break;default:console&&console.error(arguments,this)}return i}function c(t){var e=[];for(var i in t){var n=t[i];e.push(encodeURIComponent(i)+"="+encodeURIComponent(r.isString(n)?n:r.JSONEncode(n)))}return e.join("&")}t.exports=function t(e,i){var u=r.extend({type:"post",data:{},headers:{},dataType:"json",success:null,error:null,sync:!0,context:this,jsonp:!1,useSocket:!1},i);try{if(u.jsonp)!function(t,e){var i=function(t,i){r.isFunction(e[t])&&e[t].call(e.context,i)},n=document.createElement("script"),o="callback"+Math.random().toString().split(".")[1],s=t+"?";e.data.callback=o,window[o]=function(t){i("success",t)},n.src=s+c(e.data),n.onerror=function(){i("error")},document.body.appendChild(n)}(e,u);else if(u.useSocket){if(!window._sdkSocket_)return console.warn("socket未初始化"),void setTimeout((function(){t(e,u)}),300);n.log("可视化","socket状态正常，开始发送请求",e,u);var h=r.UUID(),l=i.context;delete i.context,window._sdkSocket_.emit("proxy",{id:h,url:e,options:i}),window._sdkSocket_.on("success-"+h,(function(t){u.success.call(l,t)})),window._sdkSocket_.on("fail-"+h,(function(t){u.error.call(l,t)}))}else!function(t,e){var i=s();i.withCredentials=!0;var n=function(t){r.isFunction(e[t])&&e[t].call(e.context,a(i,e.dataType))};switch(i.onreadystatechange=function(){i.readyState===o&&(i.status>=200&&i.status<=299?n("success"):n("error"))},i.withCredentials=!0,e.type.toLowerCase()){case"get":t+="?"+c(e.data),i.open(e.type,t,e.sync);break;case"post":var u=c(e.data);i.open(e.type,t,e.sync),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded");break;default:console&&console.error(arguments,this)}for(var h in e.headers)i.setRequestHeader(h,e.headers[h]);i.send(u)}(e,u)}catch(t){}}},,,function(t,e,i){(function(){var e;function i(t,e,i){null!=t&&("number"==typeof t?this.fromNumber(t,e,i):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function r(){return new i(null)}var n="undefined"!=typeof navigator;n&&"Microsoft Internet Explorer"==navigator.appName?(i.prototype.am=function(t,e,i,r,n,o){for(var s=32767&e,a=e>>15;--o>=0;){var c=32767&this[t],u=this[t++]>>15,h=a*c+u*s;n=((c=s*c+((32767&h)<<15)+i[r]+(1073741823&n))>>>30)+(h>>>15)+a*u+(n>>>30),i[r++]=1073741823&c}return n},e=30):n&&"Netscape"!=navigator.appName?(i.prototype.am=function(t,e,i,r,n,o){for(;--o>=0;){var s=e*this[t++]+i[r]+n;n=Math.floor(s/67108864),i[r++]=67108863&s}return n},e=26):(i.prototype.am=function(t,e,i,r,n,o){for(var s=16383&e,a=e>>14;--o>=0;){var c=16383&this[t],u=this[t++]>>14,h=a*c+u*s;n=((c=s*c+((16383&h)<<14)+i[r]+n)>>28)+(h>>14)+a*u,i[r++]=268435455&c}return n},e=28),i.prototype.DB=e,i.prototype.DM=(1<<e)-1,i.prototype.DV=1<<e;i.prototype.FV=Math.pow(2,52),i.prototype.F1=52-e,i.prototype.F2=2*e-52;var o,s,a=new Array;for(o="0".charCodeAt(0),s=0;s<=9;++s)a[o++]=s;for(o="a".charCodeAt(0),s=10;s<36;++s)a[o++]=s;for(o="A".charCodeAt(0),s=10;s<36;++s)a[o++]=s;function c(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function u(t,e){var i=a[t.charCodeAt(e)];return null==i?-1:i}function h(t){var e=r();return e.fromInt(t),e}function l(t){var e,i=1;return 0!=(e=t>>>16)&&(t=e,i+=16),0!=(e=t>>8)&&(t=e,i+=8),0!=(e=t>>4)&&(t=e,i+=4),0!=(e=t>>2)&&(t=e,i+=2),0!=(e=t>>1)&&(t=e,i+=1),i}function p(t){this.m=t}function f(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function d(t,e){return t&e}function g(t,e){return t|e}function m(t,e){return t^e}function v(t,e){return t&~e}function y(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function w(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function b(){}function S(t){return t}function k(t){this.r2=r(),this.q3=r(),i.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}p.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},p.prototype.revert=function(t){return t},p.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},p.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i),this.reduce(i)},p.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},f.prototype.convert=function(t){var e=r();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(i.ZERO)>0&&this.m.subTo(e,e),e},f.prototype.revert=function(t){var e=r();return t.copyTo(e),this.reduce(e),e},f.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var i=32767&t[e],r=i*this.mpl+((i*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[i=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[i]>=t.DV;)t[i]-=t.DV,t[++i]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},f.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i),this.reduce(i)},f.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},i.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},i.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},i.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var n=t.length,o=!1,s=0;--n>=0;){var a=8==r?255&t[n]:u(t,n);a<0?"-"==t.charAt(n)&&(o=!0):(o=!1,0==s?this[this.t++]=a:s+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=r)>=this.DB&&(s-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&i.ZERO.subTo(this,this)},i.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},i.prototype.dlShiftTo=function(t,e){var i;for(i=this.t-1;i>=0;--i)e[i+t]=this[i];for(i=t-1;i>=0;--i)e[i]=0;e.t=this.t+t,e.s=this.s},i.prototype.drShiftTo=function(t,e){for(var i=t;i<this.t;++i)e[i-t]=this[i];e.t=Math.max(this.t-t,0),e.s=this.s},i.prototype.lShiftTo=function(t,e){var i,r=t%this.DB,n=this.DB-r,o=(1<<n)-1,s=Math.floor(t/this.DB),a=this.s<<r&this.DM;for(i=this.t-1;i>=0;--i)e[i+s+1]=this[i]>>n|a,a=(this[i]&o)<<r;for(i=s-1;i>=0;--i)e[i]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()},i.prototype.rShiftTo=function(t,e){e.s=this.s;var i=Math.floor(t/this.DB);if(i>=this.t)e.t=0;else{var r=t%this.DB,n=this.DB-r,o=(1<<r)-1;e[0]=this[i]>>r;for(var s=i+1;s<this.t;++s)e[s-i-1]|=(this[s]&o)<<n,e[s-i]=this[s]>>r;r>0&&(e[this.t-i-1]|=(this.s&o)<<n),e.t=this.t-i,e.clamp()}},i.prototype.subTo=function(t,e){for(var i=0,r=0,n=Math.min(t.t,this.t);i<n;)r+=this[i]-t[i],e[i++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;i<this.t;)r+=this[i],e[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;i<t.t;)r-=t[i],e[i++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[i++]=this.DV+r:r>0&&(e[i++]=r),e.t=i,e.clamp()},i.prototype.multiplyTo=function(t,e){var r=this.abs(),n=t.abs(),o=r.t;for(e.t=o+n.t;--o>=0;)e[o]=0;for(o=0;o<n.t;++o)e[o+r.t]=r.am(0,n[o],e,o,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&i.ZERO.subTo(e,e)},i.prototype.squareTo=function(t){for(var e=this.abs(),i=t.t=2*e.t;--i>=0;)t[i]=0;for(i=0;i<e.t-1;++i){var r=e.am(i,e[i],t,2*i,0,1);(t[i+e.t]+=e.am(i+1,2*e[i],t,2*i+1,r,e.t-i-1))>=e.DV&&(t[i+e.t]-=e.DV,t[i+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(i,e[i],t,2*i,0,1)),t.s=0,t.clamp()},i.prototype.divRemTo=function(t,e,n){var o=t.abs();if(!(o.t<=0)){var s=this.abs();if(s.t<o.t)return null!=e&&e.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=r());var a=r(),c=this.s,u=t.s,h=this.DB-l(o[o.t-1]);h>0?(o.lShiftTo(h,a),s.lShiftTo(h,n)):(o.copyTo(a),s.copyTo(n));var p=a.t,f=a[p-1];if(0!=f){var d=f*(1<<this.F1)+(p>1?a[p-2]>>this.F2:0),g=this.FV/d,m=(1<<this.F1)/d,v=1<<this.F2,y=n.t,w=y-p,b=null==e?r():e;for(a.dlShiftTo(w,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),i.ONE.dlShiftTo(p,b),b.subTo(a,a);a.t<p;)a[a.t++]=0;for(;--w>=0;){var S=n[--y]==f?this.DM:Math.floor(n[y]*g+(n[y-1]+v)*m);if((n[y]+=a.am(0,S,n,w,0,p))<S)for(a.dlShiftTo(w,b),n.subTo(b,n);n[y]<--S;)n.subTo(b,n)}null!=e&&(n.drShiftTo(p,e),c!=u&&i.ZERO.subTo(e,e)),n.t=p,n.clamp(),h>0&&n.rShiftTo(h,n),c<0&&i.ZERO.subTo(n,n)}}},i.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},i.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},i.prototype.exp=function(t,e){if(t>4294967295||t<1)return i.ONE;var n=r(),o=r(),s=e.convert(this),a=l(t)-1;for(s.copyTo(n);--a>=0;)if(e.sqrTo(n,o),(t&1<<a)>0)e.mulTo(o,s,n);else{var c=n;n=o,o=c}return e.revert(n)},i.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var i,r=(1<<e)-1,n=!1,o="",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(i=this[s]>>a)>0&&(n=!0,o=c(i));s>=0;)a<e?(i=(this[s]&(1<<a)-1)<<e-a,i|=this[--s]>>(a+=this.DB-e)):(i=this[s]>>(a-=e)&r,a<=0&&(a+=this.DB,--s)),i>0&&(n=!0),n&&(o+=c(i));return n?o:"0"},i.prototype.negate=function(){var t=r();return i.ZERO.subTo(this,t),t},i.prototype.abs=function(){return this.s<0?this.negate():this},i.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var i=this.t;if(0!=(e=i-t.t))return this.s<0?-e:e;for(;--i>=0;)if(0!=(e=this[i]-t[i]))return e;return 0},i.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+l(this[this.t-1]^this.s&this.DM)},i.prototype.mod=function(t){var e=r();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(i.ZERO)>0&&t.subTo(e,e),e},i.prototype.modPowInt=function(t,e){var i;return i=t<256||e.isEven()?new p(e):new f(e),this.exp(t,i)},i.ZERO=h(0),i.ONE=h(1),b.prototype.convert=S,b.prototype.revert=S,b.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i)},b.prototype.sqrTo=function(t,e){t.squareTo(e)},k.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=r();return t.copyTo(e),this.reduce(e),e},k.prototype.revert=function(t){return t},k.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},k.prototype.mulTo=function(t,e,i){t.multiplyTo(e,i),this.reduce(i)},k.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var T,_,E,x=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],A=(1<<26)/x[x.length-1];function I(){var t;t=(new Date).getTime(),_[E++]^=255&t,_[E++]^=t>>8&255,_[E++]^=t>>16&255,_[E++]^=t>>24&255,E>=C&&(E-=C)}if(i.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},i.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),i=Math.pow(t,e),n=h(i),o=r(),s=r(),a="";for(this.divRemTo(n,o,s);o.signum()>0;)a=(i+s.intValue()).toString(t).substr(1)+a,o.divRemTo(n,o,s);return s.intValue().toString(t)+a},i.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),o=!1,s=0,a=0,c=0;c<t.length;++c){var h=u(t,c);h<0?"-"==t.charAt(c)&&0==this.signum()&&(o=!0):(a=e*a+h,++s>=r&&(this.dMultiply(n),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),o&&i.ZERO.subTo(this,this)},i.prototype.fromNumber=function(t,e,r){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(i.ONE.shiftLeft(t-1),g,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(i.ONE.shiftLeft(t-1),this);else{var n=new Array,o=7&t;n.length=1+(t>>3),e.nextBytes(n),o>0?n[0]&=(1<<o)-1:n[0]=0,this.fromString(n,256)}},i.prototype.bitwiseTo=function(t,e,i){var r,n,o=Math.min(t.t,this.t);for(r=0;r<o;++r)i[r]=e(this[r],t[r]);if(t.t<this.t){for(n=t.s&this.DM,r=o;r<this.t;++r)i[r]=e(this[r],n);i.t=this.t}else{for(n=this.s&this.DM,r=o;r<t.t;++r)i[r]=e(n,t[r]);i.t=t.t}i.s=e(this.s,t.s),i.clamp()},i.prototype.changeBit=function(t,e){var r=i.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},i.prototype.addTo=function(t,e){for(var i=0,r=0,n=Math.min(t.t,this.t);i<n;)r+=this[i]+t[i],e[i++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;i<this.t;)r+=this[i],e[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;i<t.t;)r+=t[i],e[i++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[i++]=r:r<-1&&(e[i++]=this.DV+r),e.t=i,e.clamp()},i.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},i.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},i.prototype.multiplyLowerTo=function(t,e,i){var r,n=Math.min(this.t+t.t,e);for(i.s=0,i.t=n;n>0;)i[--n]=0;for(r=i.t-this.t;n<r;++n)i[n+this.t]=this.am(0,t[n],i,n,0,this.t);for(r=Math.min(t.t,e);n<r;++n)this.am(0,t[n],i,n,0,e-n);i.clamp()},i.prototype.multiplyUpperTo=function(t,e,i){--e;var r=i.t=this.t+t.t-e;for(i.s=0;--r>=0;)i[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)i[this.t+r-e]=this.am(e-r,t[r],i,0,0,this.t+r-e);i.clamp(),i.drShiftTo(1,i)},i.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,i=this.s<0?t-1:0;if(this.t>0)if(0==e)i=this[0]%t;else for(var r=this.t-1;r>=0;--r)i=(e*i+this[r])%t;return i},i.prototype.millerRabin=function(t){var e=this.subtract(i.ONE),n=e.getLowestSetBit();if(n<=0)return!1;var o=e.shiftRight(n);(t=t+1>>1)>x.length&&(t=x.length);for(var s=r(),a=0;a<t;++a){s.fromInt(x[Math.floor(Math.random()*x.length)]);var c=s.modPow(o,this);if(0!=c.compareTo(i.ONE)&&0!=c.compareTo(e)){for(var u=1;u++<n&&0!=c.compareTo(e);)if(0==(c=c.modPowInt(2,this)).compareTo(i.ONE))return!1;if(0!=c.compareTo(e))return!1}}return!0},i.prototype.clone=function(){var t=r();return this.copyTo(t),t},i.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},i.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},i.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},i.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},i.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var i,r=this.DB-t*this.DB%8,n=0;if(t-- >0)for(r<this.DB&&(i=this[t]>>r)!=(this.s&this.DM)>>r&&(e[n++]=i|this.s<<this.DB-r);t>=0;)r<8?(i=(this[t]&(1<<r)-1)<<8-r,i|=this[--t]>>(r+=this.DB-8)):(i=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&i)&&(i|=-256),0==n&&(128&this.s)!=(128&i)&&++n,(n>0||i!=this.s)&&(e[n++]=i);return e},i.prototype.equals=function(t){return 0==this.compareTo(t)},i.prototype.min=function(t){return this.compareTo(t)<0?this:t},i.prototype.max=function(t){return this.compareTo(t)>0?this:t},i.prototype.and=function(t){var e=r();return this.bitwiseTo(t,d,e),e},i.prototype.or=function(t){var e=r();return this.bitwiseTo(t,g,e),e},i.prototype.xor=function(t){var e=r();return this.bitwiseTo(t,m,e),e},i.prototype.andNot=function(t){var e=r();return this.bitwiseTo(t,v,e),e},i.prototype.not=function(){for(var t=r(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},i.prototype.shiftLeft=function(t){var e=r();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},i.prototype.shiftRight=function(t){var e=r();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},i.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+y(this[t]);return this.s<0?this.t*this.DB:-1},i.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,i=0;i<this.t;++i)t+=w(this[i]^e);return t},i.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},i.prototype.setBit=function(t){return this.changeBit(t,g)},i.prototype.clearBit=function(t){return this.changeBit(t,v)},i.prototype.flipBit=function(t){return this.changeBit(t,m)},i.prototype.add=function(t){var e=r();return this.addTo(t,e),e},i.prototype.subtract=function(t){var e=r();return this.subTo(t,e),e},i.prototype.multiply=function(t){var e=r();return this.multiplyTo(t,e),e},i.prototype.divide=function(t){var e=r();return this.divRemTo(t,e,null),e},i.prototype.remainder=function(t){var e=r();return this.divRemTo(t,null,e),e},i.prototype.divideAndRemainder=function(t){var e=r(),i=r();return this.divRemTo(t,e,i),new Array(e,i)},i.prototype.modPow=function(t,e){var i,n,o=t.bitLength(),s=h(1);if(o<=0)return s;i=o<18?1:o<48?3:o<144?4:o<768?5:6,n=o<8?new p(e):e.isEven()?new k(e):new f(e);var a=new Array,c=3,u=i-1,d=(1<<i)-1;if(a[1]=n.convert(this),i>1){var g=r();for(n.sqrTo(a[1],g);c<=d;)a[c]=r(),n.mulTo(g,a[c-2],a[c]),c+=2}var m,v,y=t.t-1,w=!0,b=r();for(o=l(t[y])-1;y>=0;){for(o>=u?m=t[y]>>o-u&d:(m=(t[y]&(1<<o+1)-1)<<u-o,y>0&&(m|=t[y-1]>>this.DB+o-u)),c=i;0==(1&m);)m>>=1,--c;if((o-=c)<0&&(o+=this.DB,--y),w)a[m].copyTo(s),w=!1;else{for(;c>1;)n.sqrTo(s,b),n.sqrTo(b,s),c-=2;c>0?n.sqrTo(s,b):(v=s,s=b,b=v),n.mulTo(b,a[m],s)}for(;y>=0&&0==(t[y]&1<<o);)n.sqrTo(s,b),v=s,s=b,b=v,--o<0&&(o=this.DB-1,--y)}return n.revert(s)},i.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return i.ZERO;for(var r=t.clone(),n=this.clone(),o=h(1),s=h(0),a=h(0),c=h(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(o.isEven()&&s.isEven()||(o.addTo(this,o),s.subTo(t,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),e?(a.isEven()&&c.isEven()||(a.addTo(this,a),c.subTo(t,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);r.compareTo(n)>=0?(r.subTo(n,r),e&&o.subTo(a,o),s.subTo(c,s)):(n.subTo(r,n),e&&a.subTo(o,a),c.subTo(s,c))}return 0!=n.compareTo(i.ONE)?i.ZERO:c.compareTo(t)>=0?c.subtract(t):c.signum()<0?(c.addTo(t,c),c.signum()<0?c.add(t):c):c},i.prototype.pow=function(t){return this.exp(t,new b)},i.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),i=t.s<0?t.negate():t.clone();if(e.compareTo(i)<0){var r=e;e=i,i=r}var n=e.getLowestSetBit(),o=i.getLowestSetBit();if(o<0)return e;for(n<o&&(o=n),o>0&&(e.rShiftTo(o,e),i.rShiftTo(o,i));e.signum()>0;)(n=e.getLowestSetBit())>0&&e.rShiftTo(n,e),(n=i.getLowestSetBit())>0&&i.rShiftTo(n,i),e.compareTo(i)>=0?(e.subTo(i,e),e.rShiftTo(1,e)):(i.subTo(e,i),i.rShiftTo(1,i));return o>0&&i.lShiftTo(o,i),i},i.prototype.isProbablePrime=function(t){var e,i=this.abs();if(1==i.t&&i[0]<=x[x.length-1]){for(e=0;e<x.length;++e)if(i[0]==x[e])return!0;return!1}if(i.isEven())return!1;for(e=1;e<x.length;){for(var r=x[e],n=e+1;n<x.length&&r<A;)r*=x[n++];for(r=i.modInt(r);e<n;)if(r%x[e++]==0)return!1}return i.millerRabin(t)},i.prototype.square=function(){var t=r();return this.squareTo(t),t},i.prototype.Barrett=k,null==_){var z;if(_=new Array,E=0,"undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var D=new Uint8Array(32);for(window.crypto.getRandomValues(D),z=0;z<32;++z)_[E++]=D[z]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var P=window.crypto.random(32);for(z=0;z<P.length;++z)_[E++]=255&P.charCodeAt(z)}for(;E<C;)z=Math.floor(65536*Math.random()),_[E++]=z>>>8,_[E++]=255&z;E=0,I()}function F(){if(null==T){for(I(),(T=new B).init(_),E=0;E<_.length;++E)_[E]=0;E=0}return T.next()}function O(){}function B(){this.i=0,this.j=0,this.S=new Array}O.prototype.nextBytes=function(t){var e;for(e=0;e<t.length;++e)t[e]=F()},B.prototype.init=function(t){var e,i,r;for(e=0;e<256;++e)this.S[e]=e;for(i=0,e=0;e<256;++e)i=i+this.S[e]+t[e%t.length]&255,r=this.S[e],this.S[e]=this.S[i],this.S[i]=r;this.i=0,this.j=0},B.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var C=256;t.exports={default:i,BigInteger:i,SecureRandom:O}}).call(this)},function(t,e){function i(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function r(t,e,r,n,o,s){return i((a=i(i(e,t),i(n,s)))<<(c=o)|a>>>32-c,r);var a,c}function n(t,e,i,n,o,s,a){return r(e&i|~e&n,t,e,o,s,a)}function o(t,e,i,n,o,s,a){return r(e&n|i&~n,t,e,o,s,a)}function s(t,e,i,n,o,s,a){return r(e^i^n,t,e,o,s,a)}function a(t,e,i,n,o,s,a){return r(i^(e|~n),t,e,o,s,a)}function c(t,e){var r,c,u,h,l;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var p=1732584193,f=-271733879,d=-1732584194,g=271733878;for(r=0;r<t.length;r+=16)c=p,u=f,h=d,l=g,p=n(p,f,d,g,t[r],7,-680876936),g=n(g,p,f,d,t[r+1],12,-389564586),d=n(d,g,p,f,t[r+2],17,606105819),f=n(f,d,g,p,t[r+3],22,-1044525330),p=n(p,f,d,g,t[r+4],7,-176418897),g=n(g,p,f,d,t[r+5],12,1200080426),d=n(d,g,p,f,t[r+6],17,-1473231341),f=n(f,d,g,p,t[r+7],22,-45705983),p=n(p,f,d,g,t[r+8],7,1770035416),g=n(g,p,f,d,t[r+9],12,-1958414417),d=n(d,g,p,f,t[r+10],17,-42063),f=n(f,d,g,p,t[r+11],22,-1990404162),p=n(p,f,d,g,t[r+12],7,1804603682),g=n(g,p,f,d,t[r+13],12,-40341101),d=n(d,g,p,f,t[r+14],17,-1502002290),p=o(p,f=n(f,d,g,p,t[r+15],22,1236535329),d,g,t[r+1],5,-165796510),g=o(g,p,f,d,t[r+6],9,-1069501632),d=o(d,g,p,f,t[r+11],14,643717713),f=o(f,d,g,p,t[r],20,-373897302),p=o(p,f,d,g,t[r+5],5,-701558691),g=o(g,p,f,d,t[r+10],9,38016083),d=o(d,g,p,f,t[r+15],14,-660478335),f=o(f,d,g,p,t[r+4],20,-405537848),p=o(p,f,d,g,t[r+9],5,568446438),g=o(g,p,f,d,t[r+14],9,-1019803690),d=o(d,g,p,f,t[r+3],14,-187363961),f=o(f,d,g,p,t[r+8],20,1163531501),p=o(p,f,d,g,t[r+13],5,-1444681467),g=o(g,p,f,d,t[r+2],9,-51403784),d=o(d,g,p,f,t[r+7],14,1735328473),p=s(p,f=o(f,d,g,p,t[r+12],20,-1926607734),d,g,t[r+5],4,-378558),g=s(g,p,f,d,t[r+8],11,-2022574463),d=s(d,g,p,f,t[r+11],16,1839030562),f=s(f,d,g,p,t[r+14],23,-35309556),p=s(p,f,d,g,t[r+1],4,-1530992060),g=s(g,p,f,d,t[r+4],11,1272893353),d=s(d,g,p,f,t[r+7],16,-155497632),f=s(f,d,g,p,t[r+10],23,-1094730640),p=s(p,f,d,g,t[r+13],4,681279174),g=s(g,p,f,d,t[r],11,-358537222),d=s(d,g,p,f,t[r+3],16,-722521979),f=s(f,d,g,p,t[r+6],23,76029189),p=s(p,f,d,g,t[r+9],4,-640364487),g=s(g,p,f,d,t[r+12],11,-421815835),d=s(d,g,p,f,t[r+15],16,530742520),p=a(p,f=s(f,d,g,p,t[r+2],23,-995338651),d,g,t[r],6,-198630844),g=a(g,p,f,d,t[r+7],10,1126891415),d=a(d,g,p,f,t[r+14],15,-1416354905),f=a(f,d,g,p,t[r+5],21,-57434055),p=a(p,f,d,g,t[r+12],6,1700485571),g=a(g,p,f,d,t[r+3],10,-1894986606),d=a(d,g,p,f,t[r+10],15,-1051523),f=a(f,d,g,p,t[r+1],21,-2054922799),p=a(p,f,d,g,t[r+8],6,1873313359),g=a(g,p,f,d,t[r+15],10,-30611744),d=a(d,g,p,f,t[r+6],15,-1560198380),f=a(f,d,g,p,t[r+13],21,1309151649),p=a(p,f,d,g,t[r+4],6,-145523070),g=a(g,p,f,d,t[r+11],10,-1120210379),d=a(d,g,p,f,t[r+2],15,718787259),f=a(f,d,g,p,t[r+9],21,-343485551),p=i(p,c),f=i(f,u),d=i(d,h),g=i(g,l);return[p,f,d,g]}function u(t){var e,i="",r=32*t.length;for(e=0;e<r;e+=8)i+=String.fromCharCode(t[e>>5]>>>e%32&255);return i}function h(t){var e,i=[];for(i[(t.length>>2)-1]=void 0,e=0;e<i.length;e+=1)i[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)i[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return i}function l(t){var e,i,r="";for(i=0;i<t.length;i+=1)e=t.charCodeAt(i),r+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return r}function p(t){return unescape(encodeURIComponent(t))}function f(t){return function(t){return u(c(h(t),8*t.length))}(p(t))}function d(t,e){return function(t,e){var i,r,n=h(t),o=[],s=[];for(o[15]=s[15]=void 0,n.length>16&&(n=c(n,8*t.length)),i=0;i<16;i+=1)o[i]=909522486^n[i],s[i]=1549556828^n[i];return r=c(o.concat(h(e)),512+8*e.length),u(c(s.concat(r),640))}(p(t),p(e))}t.exports=function(t,e,i){return e?i?d(e,t):l(d(e,t)):i?f(t):l(f(t))}},,function(t,e){t.exports={SESSION_KEYS:{PARAMS:"zhugeJsHeatMapParams"},URL:{DATA_LIST:"/data/datalist.jsp"}}},function(t,e,i){t.exports={sm2:i(21),sm3:i(25),sm4:i(26)}},function(t,e){const i=new Uint32Array(68),r=new Uint32Array(64);function n(t,e){const i=31&e;return t<<i|t>>>32-i}function o(t,e){const i=[];for(let r=t.length-1;r>=0;r--)i[r]=255&(t[r]^e[r]);return i}function s(t){return t^n(t,9)^n(t,17)}function a(t){let e=8*t.length,o=e%512;o=o>=448?512-o%448-1:448-o-1;const a=new Array((o-7)/8),c=new Array(8);for(let t=0,e=a.length;t<e;t++)a[t]=0;for(let t=0,e=c.length;t<e;t++)c[t]=0;e=e.toString(2);for(let t=7;t>=0;t--)if(e.length>8){const i=e.length-8;c[t]=parseInt(e.substr(i),2),e=e.substr(0,i)}else e.length>0&&(c[t]=parseInt(e,2),e="");const u=new Uint8Array([...t,128,...a,...c]),h=new DataView(u.buffer,0),l=u.length/64,p=new Uint32Array([1937774191,1226093241,388252375,3666478592,2842636476,372324522,3817729613,2969243214]);for(let t=0;t<l;t++){i.fill(0),r.fill(0);const e=16*t;for(let t=0;t<16;t++)i[t]=h.getUint32(4*(e+t),!1);for(let t=16;t<68;t++)i[t]=(f=i[t-16]^i[t-9]^n(i[t-3],15))^n(f,15)^n(f,23)^n(i[t-13],7)^i[t-6];for(let t=0;t<64;t++)r[t]=i[t]^i[t+4];const o=2043430169,a=2055708042;let c,u,l,d,g,m=p[0],v=p[1],y=p[2],w=p[3],b=p[4],S=p[5],k=p[6],T=p[7];for(let t=0;t<64;t++)g=t>=0&&t<=15?o:a,c=n(n(m,12)+b+n(g,t),7),u=c^n(m,12),l=(t>=0&&t<=15?m^v^y:m&v|m&y|v&y)+w+u+r[t],d=(t>=0&&t<=15?b^S^k:b&S|~b&k)+T+c+i[t],w=y,y=n(v,9),v=m,m=l,T=k,k=n(S,19),S=b,b=s(d);p[0]^=m,p[1]^=v,p[2]^=y,p[3]^=w,p[4]^=b,p[5]^=S,p[6]^=k,p[7]^=T}var f;const d=[];for(let t=0,e=p.length;t<e;t++){const e=p[t];d.push((4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e)}return d}const c=new Uint8Array(64),u=new Uint8Array(64);for(let t=0;t<64;t++)c[t]=54,u[t]=92;t.exports={sm3:a,hmac:function(t,e){for(e.length>64&&(e=a(e));e.length<64;)e.push(0);const i=o(e,c),r=o(e,u),n=a([...i,...t]);return a([...r,...n])}}},function(t,e){t.exports.url={CHECK_LOGIN:"/user/checkAuthorization.jsp",EVENT_LIST:"/data/datalist.jsp",LOAD_ENV_DATA:"/appusergroup/getEventEnvData.jsp",LOAD_USER_PROPS:"/appusergroup/getUserPropMeta.jsp"}},function(t,e,i){var r=i(0),n=i(5),o=i(16),s=i(17),a=i(18),c=i(1),u=i(19),h=i(20),l=i(12).sm2,p=i(12).sm4,f=i(27),d=[],g=["identify","track","page"],m=null,v=["eid","ct","tz","cuid","cn","sid","url","os","ov","wv","mnet","referrer_domain","net","vn","wxeid","uid","share_id","share_title","title","path","share_level"],y=i(11),w=i(3),b=i(2),S=function(t){this.config={},r.extend(this.config,t),this.idle=0,this.last_activity=new Date,this.is_landing=!1,this.pageUtm=null,this.autoTrack=null,this.visualizer=null,this.observeMarkElement=null,this.preScroll=0};function k(t){var e=t;try{e=decodeURIComponent(e)}catch(t){}return e}S.prototype._init=function(t,e,i){if(this._key=t,this._jsc=function(){},r.isObject(e))for(var n in r.extend(this.config,e),this.config)r.isObject(this.config[n])&&(this.config[n]=r.JSONEncode(this.config[n]));var o=this,s=function(t,e){o.config.clickBlackList&&(window.__zg_click_black_list=o.config.clickBlackList),o._getQueryParam(),o._initDid(t),o.cookie=new u("zg_"+o._key,o.config);var i=r.cookie.get("_zg");i&&o.config.inherit_user_data?(o.cookie.register_once(r.JSONDecode(i),""),r.cookie.remove("_zg")):o.cookie.register_once({sid:0,updated:0,info:0,superProperty:o.config.superProperty,platform:o.config.platform},""),o.cookie.register({superProperty:o.config.superProperty,platform:o.config.platform});var n=o._session(e);if(o.config.autoTrack&&(o.is_landing=o._checkLanding(n)),o._info(),o._startPing(),o.config.adCollect&&o._initAdTrack(),o.config.updateUtm){var s=r.info.campaignParams();o.pageUtm=s}o.config.wechart&&(o._openShare(),o.config.autoTrack||o._trackPV()),o._initAutoTrack(),o._initHistoryHook(),o.config.exposure&&(o.observeMarkElement=new h(o)),o.config.duration&&o._initDuration(),o.is_landing&&o.config.openLanding&&o._initLanding(),o._startZgSee()};this.config.adTrack?(o._wrapTrackerFunction(),r.jsonp("https://su.zhugeio.com/v2/zgadtrack/header",(function(t){s(t.zg_adver_did,t.zg_adver_sid),i&&i(),o._doTrackerQueue()}),(function(){s(),i&&i(),o._doTrackerQueue()}))):(s(),i&&i()),i&&i()},S.prototype._initAdTrack=function(){var t=r.getUrlParams(location.href),e=r.getUrlParams(document.referrer),i=this.config.adLanding||r.cookie.get("zgLandingUrl")||(t&&t.zg_appid&&t.app_key?location.href:null)||(e&&e.zg_appid&&e.app_key?document.referrer:null);i&&i!==this.did.props.landingUrl&&(this.did.register({landingUrl:i}),this.batchTrack([{dt:"adtf",eid:"adTrack",param:{$landing_url:i}}]))},S.prototype._initDuration=function(){this.cookie.props.prePath?this._duration():this._registerDuration();var t=this;if(window.requestAnimationFrame){var e=0;window.requestAnimationFrame((function i(r){0===e||r-e<=500?t.cookie.register({duration:(t.cookie.props.duration||0)+(r-e)}):t._duration(),e=r,window.requestAnimationFrame(i)}))}else setInterval((function(){t.cookie.register({duration:(t.cookie.props.duration||0)+500})}),500)},S.prototype._getQueryParam=function(){for(var t={},e=location.search.replace("?","").split("&"),i=0;i<e.length;i++){var n=e[i],o=k(n.split("=")[0]),s=k(n.split("=")[1]);t[o]=s}return this._queryParam=t,sessionStorage&&sessionStorage.setItem("shareData",r.JSONEncode({path:location.pathname,param:t})),t},S.prototype._checkLanding=function(t){if(this.config.autoTrack){if(this.config.alwaysLanding)return!0;var e=!1,i=r.getDomain(r.replacezgSecretParams(location.href))!==r.getDomain(r.replacezgSecretParams(document.referrer));return t?i&&(e=!0,this.cookie.register({landHref:r.replacezgSecretParams(location.href)})):i&&r.replacezgSecretParams(location.href)===this.cookie.props.landHref&&(e=!0),e}},S.prototype._initLanding=function(){var t=this,e=function(){t.config.autoTrack&&(m&&clearTimeout(m),m=setTimeout((function(){var e=Math.floor(window.innerHeight+(window.scrollY||window.pageYOffset));t.preScroll!==e&&(t.preScroll=e,t.batchTrack([{dt:"abp",eid:"scroll",param:{$page_url:r.replacezgSecretParams(location.href),$page_title:window.document.title,$scroll:e}}]))}),50))};c.ready((function(){c.bind(window,"scroll",e),e()}),this)},S.prototype._wrapTrackerFunction=function(){var t=this,e={},i="",n=0;for(n=0;n<g.length;n++)e[i=g[n]]=S.prototype[i],S.prototype[i]=function(i){return function(){t.cookie?r.isFunction(e[i])&&e[i].apply(t,arguments):d.push([e[i],arguments])}}(i)},S.prototype._doTrackerQueue=function(){var t=0,e=null;for(t=0;t<d.length;t++)e=d[t]||[],r.isFunction(e[0])&&e[0].apply(this,e[1]||[]);d=[]},S.prototype._startZgSee=function(){var t=this;t.config.zgsee&&n("https://su.zhugeio.com/appkey/"+this.getKey(),{type:"get",success:function(e){if(0===e.policy||-1===e.policy){window.zgsee=[{init:[{socketUrl:"wss://zgsee-gw.zhugeio.com/",appKey:t.getKey()},t]}];var i=new Date,r=i.getFullYear().toString()+i.getMonth().toString()+i.getDate().toString();c.loadJs({src:"https://su.zhugeio.com/zgsee.min.js?r="+r})}},error:function(t){b.error("视屏","初始化视屏采集失败",t)}})},S.prototype._duration=function(){var t=this.cookie.props.duration,e=this.cookie.props.prePath;this._registerDuration(),this.batchTrack([{dt:"abp",eid:"dr",param:{$dr:Math.ceil(t||0),$url:e,$page_url:e}}])},S.prototype._registerDuration=function(){this.cookie.register({prePath:location.href,duration:0})},S.prototype._initHistoryHook=function(){var t=window.history,e=this;function i(){e.autoTrack&&e.config.autoTrack&&e.autoTrack._onView(!0),e.config.duration&&e._duration(),e.config.exposure&&e.observeMarkElement&&e.observeMarkElement.init()}if(c.bind(window,"popstate",(function(){i()}),this),void 0===window.onpopstate&&c.bind(window,"hashchange",(function(){i()}),this),t&&t.pushState){var r=t.pushState;t.pushState=function(){var e=r.apply(t,arguments);return i(),e}}if(t&&t.replaceState){var n=t.replaceState;t.replaceState=function(){var e=n.apply(t,arguments);return i(),e}}},S.prototype._initAutoTrack=function(){var t=!0;b.log("可视化","可视化埋点开关：",this.config.visualizer);var e=this.visualizer=new s(this,{open:this.config.visualizer,stopTrack:function(){t=!1}});b.log("可视化","全埋点开关：",this.config.visualizer);var i=this.autoTrack=new o(this,{open:this.config.autoTrack,isClickAble:this.config.isClickAble,isLanding:this.is_landing});b.log("可视化","当前页面是否标记为落地页：",this.is_landing);var n=new a(this,{open:this.config.autoTrack}),u=this,h=function(r){if(t){b.log("可视化","触发body点击");var n=c.isClickAble(r.target,u.config.isClickAble),o=n.flag&&(!c.getAttr(n.target,"zgclickable")||!window.zgclickhook);if(b.log("可视化","元素可点击判断结果：",o?"检测通过":"检测未通过",n),o){b.log("可视化","元素可点击捕获成功",n);var s=[];if(u.config.autoTrack){var a=i.getEvent(n);u.config.clickBlackList&&u.config.clickBlackList(n.target,a.param)||s.push(a)}u.config.visualizer&&(s=e.getEvent(n).concat(s));var h=r.target||r.srcElement||{},l=h.clickedByZgSdk,p=c.getAttr(n.target,"target");if(u.config.redirectAfterTrack&&document.body.addEventListener&&(!p||"_self"===p))return b.log("可视化","检测到超链接点击"),!0===l||!s.length||(u.batchTrack(s,(function(){h.clickedByZgSdk=!0,h.click()})),!1);s.length&&u.batchTrack(s)}}},l=function(t){b.log("可视化","触发表单change");var i=c.isClickAble(t.target,u.config.isClickAble,!1,!0);if(i.flag){b.log("可视化","表单change捕获成功",i);var r=[];u.config.visualizer&&(r=e.getEvent(i).concat(r)),r.forEach((function(t){t.param.element_content=null})),r.length&&u.batchTrack(r)}};u=this;c.ready((function(){if(b.log("可视化","页面结构加载完成"),c.bind(c.body,"click",h),c.bind(c.body,"change",l),u._queryParam.zgSecret)sessionStorage.setItem("zgSecret",u._queryParam.zgSecret);else if(/zgSecret=[a-zA-Z\d-]*/.test(location.href)){var t=location.href.match(/zgSecret=[a-zA-Z\d-]*/);t&&t.length&&sessionStorage.setItem("zgSecret",t[0].replace("zgSecret=",""))}var o=sessionStorage.getItem("zgSecret");if(b.log("分析视图","zgSecret获取结果",o),b.log("分析视图","是否进入观察者模式: "+(o?"是":"否")),o){var s=window._sdkSocket_=new f("wss://saas.zhugeio.com".replace(/\/$/,"")+"/eventtracking/ws",this._key,{secret:sessionStorage.getItem("zgSecret"),role:"client",application:"sdk",origin:4,socketToken:o.split("-")[1]});s.on("openAutoTrack",(function(){b.log("分析视图","打开全埋点分析视图"),i._loadAnalysisCode()})),s.on("pageReload",(function(t){b.log("分析视图","页面切换/重新加载",t),window.sessionStorage.removeItem("zhugeAnalysisModeType"),t.href?location.replace(t.href):location.reload()})),s.on("openJsHeatMap",(function(t){b.log("分析视图","打开落地页分析视图"),window.sessionStorage.setItem(y.SESSION_KEYS.PARAMS,r.JSONEncode(t)),n._loadAnalysisCode()})),s.on("openJsVisualizer",(function(t){b.log("分析视图","打开可视化分析视图"),window.sessionStorage.setItem(w.SESSION_KEYS.PARAMS,r.JSONEncode(t)),e._loadAnalysisCode()})),s.on("close",(function(t){b.log("分析视图","分析平台已断开socket连接"),alert("分析平台已断开连接"),sessionStorage.removeItem("zgSecret"),sessionStorage.removeItem(w.SESSION_KEYS.IS_ANALYSIS_MODE),sessionStorage.removeItem("zhugeAnalysisModeType"),window.location.href=r.replacezgSecretParams(window.location.href)}))}}),this)};var T=!0;function _(){var t=localStorage.getItem("zdru");return t=r.JSONDecode(t||"{}")}S.prototype.trackClick=function(t){if(T){b.log("可视化","click hook中捕捉到点击事件",t);var e=c.isClickAble(t.target,this.config.isClickAble),i=e.flag&&c.getAttr(e.target,"zgclickable");if(b.log("可视化","click hook元素可点击规则判定结果",i?"通过判断":"未通过判断",e),i){var r=[];this.config.autoTrack&&r.push(this.autoTrack.getEvent(e)),this.config.visualizer&&(r=this.visualizer.getEvent(e).concat(r)),this.batchTrack(r),T=!1,setTimeout((function(){T=!0}),100)}}},S.prototype._session=function(t){var e=!1,i=this.cookie.props.updated,n=this.cookie.props.sid,o=1*new Date,s=new Date;if(0==n||o>i+60*this.config.session_interval_mins*1e3||t&&t!==n){if(n>0&&i>0){var a={dt:"se",pr:{}};a.pr.$ct=i,a.pr.$tz=6e4*-s.getTimezoneOffset(),a.pr.$dru=i-n,a.pr.$sid=n,a.pr.$cuid=this.cookie.props.cuid,this.cookie.register({zs:0,sc:0,firstScreen:s.getTime()}),this._batchTrack(a)}n=t||o,n*=1;var c={dt:"ss",pr:{}},u=r.info.campaignParams(this.config.utm);c.pr=r.extend(c.pr,u),this.cookie.register({utm:r.JSONEncode(u)},""),c.pr.$ct=s.getTime(),c.pr.$sid=n,c.pr.$cuid=this.cookie.props.cuid,c.pr.$cn=this.config.app_channel,c.pr.$vn=this.config.app_version,c.pr.$tz=6e4*-s.getTimezoneOffset(),c.pr.$url=r.replacezgSecretParams(location.href),c.pr.$ref=r.replacezgSecretParams(document.referrer);var h=r.getDomain(r.replacezgSecretParams(document.referrer));c.pr.$referrer_domain=h,this.cookie.register({referrerDomain:h},""),this._batchTrack(c),this.cookie.register({sid:n},""),e=!0}return this.cookie.register({updated:o},""),e},S.prototype._info=function(t){var e=this.cookie.props.info,i=1*new Date;if(i>e+24*this.config.info_upload_interval_days*60*60*1e3||t){var n={dt:"pl",pr:{$rs:r.info.resolution()}},o=new Date;n.pr.$tz=6e4*-o.getTimezoneOffset(),n.pr.$ct=o.getTime(),n.pr.$cuid=this.cookie.props.cuid,n.pr=r.extend(n.pr,r.encode(r.JSONDecode(this.cookie.props.platform))),1===this.cookie.props.zs&&(n.pr.$zs=1),this._batchTrack(n),this.cookie.register({info:i},"")}},S.prototype.debug=function(t){this.config.debug=t},S.prototype.identify=function(t,e,i){t+="";var n=r.isObject(e)?e:{},o=r.isObject(e)?i:e;this.cookie.register({cuid:t},""),this._session();var s=r.hasMobileSdk();if(this.config.autoUploadByApp&&s.flag)s.identify(t,n),r.isFunction(o)&&o();else{var a={dt:"usr",pr:{}},c=new Date;a.pr.$ct=c.getTime(),a.pr.$tz=6e4*-c.getTimezoneOffset(),a.pr.$cuid=t,a.pr.$sid=this.cookie.props.sid,a.pr.$url=r.replacezgSecretParams(location.href),a.pr.$ref=r.replacezgSecretParams(document.referrer),a.pr=r.extend(a.pr,r.encode(n)),this._batchTrack(a,o)}},S.prototype.identifyCross=function(t,e){var i=new Date,r={dt:"musr",pr:{$cuid:e||this.cookie.props.cuid,$cfuid:t,$tz:6e4*-i.getTimezoneOffset(),$ct:i.getTime()}};this._batchTrack(r)},S.prototype.setUserProperties=function(t,e){this.identify(this.cookie.props.cuid,t,e)},S.prototype.page=function(t,e){this._session();var i=r.replacezgSecretParams(location.href),n={et:"pg"};n.pid=i,n.pn=void 0===t?i:t,n.tl=document.title,n.ref=r.replacezgSecretParams(document.referrer),n.sid=this.cookie.props.sid,this._batchTrack(n,e)},S.prototype.setWxProperties=function(t,e,i){if(t&&e){var n=new Date,o={dt:"um",pr:{$push_ch:"zgwx",$wx_appid:t,$wx_openid:e,$ct:n.getTime(),$tz:6e4*-n.getTimezoneOffset()}},s=this.cookie.props.cuid;s&&(o.pr.$cuid=s),this._batchTrack(o,i)}else r.isFunction(i)&&i()},S.prototype.setUTM=function(t){t=r.info.campaignParams(t),this.cookie.register({utm:r.JSONEncode(t)},"")},S.prototype.track=function(t,e,i){var n=r.isObject(e)?e:{},o=r.isObject(e)?i:e,s=r.hasMobileSdk();this.config.autoUploadByApp&&s.flag?(r.extend(n,r.JSONDecode(this.cookie.props.superProperty)),s.track(t,n),r.isFunction(o)&&o()):this.batchTrack([{dt:"evt",eid:t,param:n}],o)},S.prototype.batchTrack=function(t,e){var i=r.hasMobileSdk();if(this.config.autoUploadByApp&&i.flag)for(var n=0,o=t.length;n<o;n++){var s=t[n];if(r.extend(s.param,r.JSONDecode(this.cookie.props.superProperty)),"abp"===s.dt)switch(s.eid){case"dr":i.dr(s.eid,s.param);break;default:i.autoTrack(s.eid,s.param)}r.isFunction(e)&&e()}else{this._session();var a=[],c=new Date,u=this.cookie.props.utm?r.JSONDecode(this.cookie.props.utm):{};this.config.updateUtm&&this.pageUtm&&!r.isEqual(this.pageUtm,{})&&(u=this.pageUtm,this.cookie.register({utm:r.JSONEncode(u)},""));for(n=0,o=t.length;n<o;n++){if((s=t[n])&&s.dt){var h={dt:s.dt,pr:{}};for(var l in h.pr.$ct=c.getTime(),h.pr.$tz=6e4*-c.getTimezoneOffset(),h.pr.$cuid=this.cookie.props.cuid,h.pr.$sid=this.cookie.props.sid,h.pr.$url=r.replacezgSecretParams("dr"===s.eid?s.param.$url:location.href),h.pr.$ref=window.$$zgPrePageHref||r.replacezgSecretParams(document.referrer),h.pr.$referrer_domain=this.cookie.props.referrerDomain,h.pr.$eid=s.eid,h.pr.$cn=this.config.app_channel,u)h.pr[l]=u[l];"evt"===s.dt?h.pr=r.extend(h.pr,r.encode(s.param)):h.pr=r.extend(h.pr,s.param),h.pr=r.extend(h.pr,r.encode(r.JSONDecode(this.cookie.props.superProperty))),a.push(h)}}a.length&&this._batchTrack(a,e)}},S.prototype._moved=function(t){this.last_activity=new Date,this.idle=0},S.prototype._startPing=function(){var t=this;r.register_event(window,"mousemove",(function(){t._moved.apply(t,arguments)})),void 0===this.pingInterval&&(this.pingInterval=window.setInterval((function(){t._ping()}),this.config.ping_interval))},S.prototype._stopPing=function(){void 0!==this.pingInterval&&(window.clearInterval(this.pingInterval),delete this.pingInterval)},S.prototype._ping=function(){if(this.config.ping&&this.idle<this.config.idle_timeout){var t={type:"ping",sdk:"web",sdkv:"2.0"};t.ak=this._key,t.did=this.did.props.did,t.cuid=this.cookie.props.cuid,this._sendTrackRequest(t)}else this._stopPing();var e=new Date;return e-this.last_activity>this.config.idle_threshold&&(this.idle=e-this.last_activity),this},S.prototype.getDid=function(){return this.did.props.did},S.prototype.getSid=function(){return this.cookie.props.sid},S.prototype.setSuperProperty=function(t){r.isObject(t)&&this.cookie.register({superProperty:r.JSONEncode(t)})},S.prototype.setSuperPropertyFromURL=function(t){if(r.isArray(t)){var e=r.JSONDecode(this.cookie.props.superProperty||"{}");r.each(t,(function(t){var i=r.getQueryParam(document.URL,t);i.length&&(e[t]=i)})),this.cookie.register({superProperty:r.JSONEncode(e)})}},S.prototype.setPlatform=function(t){r.isObject(t)&&(this.cookie.register({platform:r.JSONEncode(t),info:0}),this._info())},S.prototype._batchTrack=function(t,e){if(!this.config.autoUploadByApp||!r.hasMobileSdk().flag)if(r.isString(this._key)&&(this.config.skipAppkeyCheck||this._key.length>=32)){var i={},n=new Date;i.sln="itn",i.pl="js",i.sdk="zg-js",i.sdkv="2.0",i.owner="zg",i.ut=[n.getFullYear(),n.getMonth()+1,n.getDate()].join("-")+" "+n.toTimeString().match(/\d{2}:\d{2}:\d{2}/)[0],i.tz=6e4*-n.getTimezoneOffset(),i.debug=this.config.debug?1:0,i.ak=this._key,i.usr={did:this.did.props.did};var o=[];r.isArray(t)?o=t:o.push(t),i.data=o,this._sendTrackRequest(i,this._prepareCallback(e,i))}else console.warn("无效的AppKey: ",this._key)},S.prototype._prepareCallback=function(t,e){if(!r.isFunction(t))return null;return function(i){t(i,e)}},S.prototype._initDid=function(t){var e=r.cookie.get("_zg"),i="",n=r.hasMobileSdk();n.flag&&(i=n.getDid());var o=r.UUID();e&&r.JSONDecode(e).uuid&&(o=r.JSONDecode(e).uuid),r.cookie.get("zg_did")||r.cookie.remove("zg_"+this._key);var s=r.extend({},this.config);s.cookie_expire_days=this.config.did_cookie_expire_days,this.did=new u("zg_did",s);var a=this.did.props.did;this.did.register({did:t||this.config.did||i||a||o},"")},S.prototype._sendTrackRequest=function(t,e){var i={event:r.JSONEncode(t),_:(new Date).getTime().toString()};if(this.config.encrypt){var n=r.randomAesKey();i.event=p.encrypt(i.event,n),i.key=l.doEncrypt(n,this.config.publicKey,1),i.type=2,i.encrypt=1}t.data.length&&"zgsee-web"===t.data[0].dt?e(t):this._sendRequest(i,e)},S.prototype._sendRequest=function(t,e){if(this.config.useAjax)return t.method="web_event_srv.upload",void n(this.config.api_host+"/apipool",{type:"post",data:t,success:function(){e&&e()},error:function(){n(this.config.api_host_bac+"/apipool",{type:"post",data:t,success:function(){e&&e()},error:function(){e&&e()}})}});var i={bac:this.config.api_host_bac+"/web_event/web.gif?method=web_event_srv.upload&"+r.HTTPBuildQuery(t),normal:this.config.api_host+"/web_event/web.gif?method=web_event_srv.upload&"+r.HTTPBuildQuery(t)},o=new Image,s=!1,a=setTimeout((function(){!s&&e&&(e(),s=!0)}),500),c=function(){!s&&e&&(clearTimeout(a),e())};o.onload=c,o.onerror=function(){var t=new Image;t.onload=c,t.onerror=c,t.src=i.bac},o.src=i.normal},S.prototype.push=function(t){var e=t.shift();this[e]&&this[e].apply(this,t)},S.prototype.getKey=function(){return this._key},S.prototype._trackPV=function(t){if(!this._trackedPv||t){var e={$page_url:r.replacezgSecretParams(location.href),$page_title:window.document.title};this.is_landing&&(e.$landing_page=!0);var i=this._getQueryParam();if(i.zg_share_id&&i.zg_uid){e.$title=e.$page_title,e.$share_level=i.zg_share_level;var n={};for(var o in i)v.includes(o.replace("zg_",""))||0!==o.indexOf("zg_")||(n[o.replace("zg_","")]=i[o]);e=r.extend(e,r.encode(n))}this.batchTrack([{dt:"abp",eid:"pv",param:e}]),this._trackedPv=!0}},S.prototype.pv=function(){this._trackPV(!0)},S.prototype._openShare=function(){var t=this._queryParam;if(t.zg_share_id&&t.zg_uid){var e={$uid:t.zg_uid,$share_id:t.zg_share_id,$title:window.document.title||"",$path:location.pathname||"",$share_level:t.zg_share_level},i={};for(var n in t)v.includes(n.replace("zg_",""))||0!==n.indexOf("zg_")||(i[n.replace("zg_","")]=t[n]);var o=r.JSONDecode(this.config.shareToUtm);if(r.isObject(o)&&!r.isEqual(o,{})){var s={};for(var a in o)i[a]&&(s[o[a]]=i[a]);r.isEqual(s,{})||(s.utm_campaign||(s.utm_campaign="分享打开"),this.setUTM(s))}this.batchTrack([{dt:"abp",eid:"wxsopen",param:r.extend(e,r.encode(i))}])}},S.prototype.trackShare=function(t,e,i,n){if(r.isFunction(e)){var o=this.getDid(),s=this.cookie.props.cuid,a=(new Date).getTime(),c=s||o,u=null;if(sessionStorage){var h=sessionStorage.getItem("shareData");h&&(u=r.JSONDecode(h))}var l=1;!n&&u&&u.path===location.pathname&&parseInt(u.param.zg_share_level)&&(a=parseInt(u.param.zg_share_id),l=parseInt(u.param.zg_share_level)+1);var p=r.extend({uid:c,share_id:a,share_level:l,shareType:i?"朋友圈":"朋友"},t),f={};for(var d in p)f["zg_"+d]=p[d];var g=this;e(r.HTTPBuildQuery(f),(function(){g.batchTrack([{dt:"abp",eid:"wxshare",param:r.extend({$uid:c,$share_id:a,$share_title:t.title,$title:window.document.title||"",$path:location.pathname||"",$share_level:l,_shareType:f.zg_shareType},r.encode(t))}])}))}else b.error("分享","param error")},S.prototype.trackRevenue=function(t){var e=r.extend({price:0,total:0,productID:null,productQuantity:0,revenueType:null},t);e.total=function(t,e){var i=0;try{i+=t.toString().split(".")[1].length}catch(t){}try{i+=e.toString().split(".")[1].length}catch(t){}return Number(t.toString().replace(".",""))*Number(e.toString().replace(".",""))/Math.pow(10,i)}(e.price,e.productQuantity);var i=["productID","revenueType"],n=["price","total","productQuantity"],o={};for(var s in e)if(-1!==i.indexOf(s)||-1!==n.indexOf(s)){var a=e[s];n.indexOf(s)>-1&&(a=Number(a))!=a&&(a=0),o["$"+s]=a}this.batchTrack([{dt:"abp",eid:"revenue",param:o}])},S.prototype.startTrack=function(t){var e=_();e[t]=(new Date).getTime(),localStorage.setItem("zdru",r.JSONEncode(e))},S.prototype.endTrack=function(t,e){var i=_();if(i[t]){var n=e||{};n.$dru=(new Date).getTime()-i[t],n.duration||(n._$duration$_=(new Date).getTime()-i[t]),delete i[t],localStorage.setItem("zdru",r.JSONEncode(i)),this.track(t,n)}},t.exports=S},function(t,e,i){var r=i(0),n=i(1),o=i(9),s=(i(14),i(5),i(2));function a(t,e){this.tracker=t,this.config=r.extend({open:!1,isClickAble:null},e),this.loaded=!1,window.$$zgPrePageHref=null,this.config.open&&this._init()}a.prototype={constructor:a,_init:function(){this._onView()},_loadAnalysisCode:function(){this.loaded||(this.loaded=!0,window.sessionStorage.setItem("zhugeAnalysisModeType","analysis"),n.loadJs({src:"https://su.zhugeio.com/analysis.min.js?a="+(new Date).toDateString()}))},_onView:function(t){var e=this.tracker;setTimeout((function(){r.replacezgSecretParams(location.href)!==window.$$zgPrePageHref&&(e._trackPV(t),window.$$zgPrePageHref=r.replacezgSecretParams(location.href))}),300)},getEvent:function(t){s.log("可视化","开始获取全埋点点击事件详情",t);var e=n.getUniqueSelector(t.target);if(e){s.log("可视化","点击元素选择器: ",e);var i=t.target,a={$page_url:r.replacezgSecretParams(location.href),$page_title:window.document.title,$element_id:n.getAttr(i,"id"),$element_content:n.getTextContent(i),$element_type:n.getTagName(i),$element_style:n.getAttr(i,"class"),$element_selector:o(e)};return this.config.isLanding&&(a.$landing_page=!0),s.log("可视化","全埋点点击事件详情",a),{dt:"abp",eid:"click",param:a}}s.log("可视化","未能成功获取元素的选择器")}},t.exports=a},function(t,e,i){var r=i(0),n=i(1),o=i(5),s=i(3),a=i(2);function c(t,e){this.config=r.extend({open:!1,stopTrack:null},e||{}),this.tracker=t,this.eventList=[],this.loaded=!1,this.config.open&&this._init()}c.prototype={constructor:c,_init:function(){n.ready((function(){this._initEventBind(),this._loadEventList(),window.sessionStorage.getItem(s.SESSION_KEYS.IS_ANALYSIS_MODE)&&this._loadAnalysisCode()}),this)},_initEventBind:function(){},_loadEventList:function(){o("https://su.zhugeio.com/v2/visual",{type:"get",data:{url:r.replacezgSecretParams(location.href),app_key:this.tracker.getKey(),platform:3},context:this,jsonp:!0,success:function(t){10001===t.code&&(this.eventList=t.visual_events)}})},_loadAnalysisCode:function(){this.loaded||(a.log("分析视图","开始加载可视化编辑模式代码"),this.loaded=!0,this.config.stopTrack(),window.sessionStorage.setItem(s.SESSION_KEYS.IS_ANALYSIS_MODE,r.JSONEncode({flag:!0})),n.loadJs({src:"https://su.zhugeio.com/visualizer.min.js?a="+(new Date).toDateString()}))},getEvent:function(t){a.log("可视化","开始获取可视化事件",t);for(var e=[],i=0,r=this.eventList.length;i<r;i++)for(var o=this.eventList[i],s=0;o.element&&s<o.element.length;s++)if(n.is(t.target,o.element[s]).flag){for(var c={element_content:n.getTextContent(t.target)},u=0;u<o.attr.length;u++){var h=o.attr[u];c[h.name]=n.getTextContent(n.query(h.selector)[0])}var l={dt:"evt",eid:o.event_name,param:c};e.push(l)}return e.length?a.log("可视化","可视化埋点事件匹配成功",e):a.log("可视化","可视化埋点事件匹配失败，点击元素的选择器为",n.getUniqueSelector(t.target)),e}},t.exports=c},function(t,e,i){var r=i(0),n=i(4);i(11);function o(t,e){this.config=r.extend({open:!1},e||{}),this.tracker=t,this.loaded=!1,this.config.open&&this._init()}o.prototype={constructor:o,_init:function(){n.ready((function(){this._initEventBind()}),this)},_initEventBind:function(){},_loadAnalysisCode:function(){this.loaded||(this.loaded=!0,window.sessionStorage.setItem("zhugeAnalysisModeType","heatMap"),n.loadJs({src:"https://su.zhugeio.com/heatMap.min.js?a="+(new Date).toDateString()}))}},t.exports=o},function(t,e,i){var r=i(0),n=function(t,e){this.name=t,this.props={},this.config=r.extend({},e),this.load()};n.prototype.load=function(){var t=r.cookie.parse(this.name);if("storage"===this.config.storeMode){var e=localStorage.getItem(this.name);!e&&t?r.cookie.set(this.name,"",-1e3,this.config.cookie_cross_subdomain,this.config.cookie_secure):t=r.JSONDecode(e||"{}"),localStorage.setItem(this.name,r.JSONEncode(t))}t&&(this.props=r.extend({},t))},n.prototype.save=function(){"cookie"===this.config.storeMode?r.cookie.set(this.name,r.JSONEncode(this.props),this.config.cookie_expire_days,this.config.cookie_cross_subdomain,this.config.cookie_secure):localStorage.setItem(this.name,r.JSONEncode(this.props))},n.prototype.register_once=function(t,e){return!!r.isObject(t)&&(void 0===e&&(e="None"),r.each(t,(function(t,i){this.props[i]&&this.props[i]!==e||(this.props[i]=t)}),this),this.save(),!0)},n.prototype.register=function(t){return!!r.isObject(t)&&(r.extend(this.props,t),this.save(),!0)},t.exports=n},function(t,e,i){var r=i(0),n=i(1);function o(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function s(t){var e=t.parentNode;return e&&e.assignedSlot&&(e=e.assignedSlot.parentNode),e&&11==e.nodeType&&e.host?e.host:e}function a(t){this.tracker=t,this.elementList=[],this.queuedEntries=[],this.observerInstance=null,this.init(),this.initWatch()}a.prototype.initWatch=function(){var t=n.supportTest();if(t){var e=this;new t((function(t){for(var i=0;i<t.length;i++)for(var r=t[i].addedNodes,o=0;o<r.length;o++){var s=r[o];try{var a=s.querySelectorAll(".zhuge-expo-track");for(g=0;g<a.length;g++)e.observerInstance.observe(a[g]),e.elementList.push(a[g]);n.is(s,".zhuge-expo-track")&&(e.observerInstance.observe(s),e.elementList.push(s))}catch(t){console.warn("查找曝光元素异常",s,t)}}})).observe(document,{attributes:!1,childList:!0,subtree:!0,characterData:!1,characterDataOldValue:!1})}else console.warn("浏览器不支持MutationObserver，无法有效监听元素变化")},a.prototype.init=function(){this.observerInstance&&this.observerInstance.disconnect(),this.elementList=Array.prototype.slice.call(document.querySelectorAll(".zhuge-expo-track")),this.queuedEntries=[],this.startObserveMarkElement()},a.prototype.computeRectIntersection=function(t,e){var i=Math.max(t.top,e.top),r=Math.min(t.bottom,e.bottom),n=Math.max(t.left,e.left),o=Math.min(t.right,e.right),s=o-n,a=r-i;return s>=0&&a>=0&&{top:i,bottom:r,left:n,right:o,width:s,height:a}||null},a.prototype.computeTargetAndRootIntersection=function(t,e,i){if("none"==window.getComputedStyle(t).display)return null;for(var r,n,a,c,u=e,h=s(t),l=!1;!l&&h;){var p=null,f=1==h.nodeType?window.getComputedStyle(h):{};if("none"==f.display)return null;if(9==h.nodeType)if(l=!0,h==document)p=i;else{var d=s(h),g=d&&o(d),m=d&&this.computeTargetAndRootIntersection(d,g,i);g&&m?(h=d,r=g,a=void 0,c=void 0,a=(n=m).top-r.top,c=n.left-r.left,p={top:a,left:c,height:n.height,width:n.width,bottom:a+n.height,right:c+n.width}):(h=null,u=null)}else{var v=h.ownerDocument;h!=v.body&&h!=v.documentElement&&"visible"!=f.overflow&&(p=o(h))}if(p&&(u=this.computeRectIntersection(p,u)),!u)break;h=h&&s(h)}return u},a.prototype.startObserveMarkElement=function(){var t=this;window.IntersectionObserver?(this.observerInstance=new window.IntersectionObserver((function(e){r.each(e,(function(e){if(e.isIntersecting){var i=t.getEventDataFromDataset(e.target.dataset);t.tracker.track(i[0],i[1])}}))})),r.each(this.elementList,(function(e){t.observerInstance.observe(e)}))):(this.checkElementInView(),n.bind(window,"scroll",r.throttle(this.checkElementInView,100,this)))},a.prototype.checkElementInView=function(t){var e=this;if(this.elementList.forEach((function(t){var i,r,n,s=t,a=o(s),c=(i=document,r=i.documentElement,n=i.body,rootRect={top:0,left:0,right:r.clientWidth||n.clientWidth,width:r.clientWidth||n.clientWidth,bottom:r.clientHeight||n.clientHeight,height:r.clientHeight||n.clientHeight},rootRect);!!e.computeTargetAndRootIntersection(s,a,c)?(!0!==s.entry&&e.queuedEntries.push(s),s.entry=!0):s.entry=!1})),this.queuedEntries.length){var i=this.queuedEntries.slice();this.queuedEntries=[],r.each(i,(function(t){var e=this.getEventDataFromDataset(t.dataset);this.tracker.track(e[0],e[1])}),this)}},a.prototype.getEventDataFromDataset=function(t){var e="",i={};return r.each(t,(function(t,r){if(/^expo/.test(r))if("expoName"===r)e=t;else{var n=r.replace(/^expo(.*)/,(function(t,e,i,r){return e.replace(e[0],e[0].toLocaleLowerCase())}));i[n]=t}})),[e,i]},t.exports=a},function(t,e,i){const{BigInteger:r}=i(8),{encodeDer:n,decodeDer:o}=i(22),s=i(23),a=i(13).sm3,{G:c,curve:u,n:h}=s.generateEcparam();function l(t,e,i="1234567812345678"){i=s.utf8ToHex(i);const r=s.leftPad(c.curve.a.toBigInteger().toRadix(16),64),n=s.leftPad(c.curve.b.toBigInteger().toRadix(16),64),o=s.leftPad(c.getX().toBigInteger().toRadix(16),64),u=s.leftPad(c.getY().toBigInteger().toRadix(16),64);let h,l;if(128===e.length)h=e.substr(0,64),l=e.substr(64,64);else{const t=c.curve.decodePointHex(e);h=s.leftPad(t.getX().toBigInteger().toRadix(16),64),l=s.leftPad(t.getY().toBigInteger().toRadix(16),64)}const p=s.hexToArray(i+r+n+o+u+h+l),f=4*i.length;p.unshift(255&f),p.unshift(f>>8&255);const d=a(p);return s.arrayToHex(a(d.concat(s.hexToArray(t))))}function p(){const t=s.generateKeyPairHex(),e=u.decodePointHex(t.publicKey);return t.k=new r(t.privateKey,16),t.x1=e.getX().toBigInteger(),t}t.exports={generateKeyPairHex:s.generateKeyPairHex,compressPublicKeyHex:s.compressPublicKeyHex,comparePublicKeyHex:s.comparePublicKeyHex,doEncrypt:function(t,e,i=1){t="string"==typeof t?s.hexToArray(s.utf8ToHex(t)):Array.prototype.slice.call(t),e=s.getGlobalCurve().decodePointHex(e);const n=s.generateKeyPairHex(),o=new r(n.privateKey,16);let c=n.publicKey;c.length>128&&(c=c.substr(c.length-128));const u=e.multiply(o),h=s.hexToArray(s.leftPad(u.getX().toBigInteger().toRadix(16),64)),l=s.hexToArray(s.leftPad(u.getY().toBigInteger().toRadix(16),64)),p=s.arrayToHex(a([].concat(h,t,l)));let f=1,d=0,g=[];const m=[].concat(h,l),v=()=>{g=a([...m,f>>24&255,f>>16&255,f>>8&255,255&f]),f++,d=0};v();for(let e=0,i=t.length;e<i;e++)d===g.length&&v(),t[e]^=255&g[d++];const y=s.arrayToHex(t);return 0===i?c+y+p:c+p+y},doDecrypt:function(t,e,i=1,{output:n="string"}={}){e=new r(e,16);let o=t.substr(128,64),c=t.substr(192);0===i&&(o=t.substr(t.length-64),c=t.substr(128,t.length-128-64));const u=s.hexToArray(c),h=s.getGlobalCurve().decodePointHex("04"+t.substr(0,128)).multiply(e),l=s.hexToArray(s.leftPad(h.getX().toBigInteger().toRadix(16),64)),p=s.hexToArray(s.leftPad(h.getY().toBigInteger().toRadix(16),64));let f=1,d=0,g=[];const m=[].concat(l,p),v=()=>{g=a([...m,f>>24&255,f>>16&255,f>>8&255,255&f]),f++,d=0};v();for(let t=0,e=u.length;t<e;t++)d===g.length&&v(),u[t]^=255&g[d++];return s.arrayToHex(a([].concat(l,u,p)))===o.toLowerCase()?"array"===n?u:s.arrayToUtf8(u):"array"===n?[]:""},doSignature:function(t,e,{pointPool:i,der:o,hash:a,publicKey:u,userId:f}={}){let d="string"==typeof t?s.utf8ToHex(t):s.arrayToHex(t);a&&(d=l(d,u=u||function(t){const e=c.multiply(new r(t,16)),i=s.leftPad(e.getX().toBigInteger().toString(16),64),n=s.leftPad(e.getY().toBigInteger().toString(16),64);return"04"+i+n}(e),f));const g=new r(e,16),m=new r(d,16);let v=null,y=null,w=null;do{do{let t;t=i&&i.length?i.pop():p(),v=t.k,y=m.add(t.x1).mod(h)}while(y.equals(r.ZERO)||y.add(v).equals(h));w=g.add(r.ONE).modInverse(h).multiply(v.subtract(y.multiply(g))).mod(h)}while(w.equals(r.ZERO));return o?n(y,w):s.leftPad(y.toString(16),64)+s.leftPad(w.toString(16),64)},doVerifySignature:function(t,e,i,{der:n,hash:a,userId:p}={}){let f,d,g="string"==typeof t?s.utf8ToHex(t):s.arrayToHex(t);if(a&&(g=l(g,i,p)),n){const t=o(e);f=t.r,d=t.s}else f=new r(e.substring(0,64),16),d=new r(e.substring(64),16);const m=u.decodePointHex(i),v=new r(g,16),y=f.add(d).mod(h);if(y.equals(r.ZERO))return!1;const w=c.multiply(d).add(m.multiply(y)),b=v.add(w.getX().toBigInteger()).mod(h);return f.equals(b)},getPoint:p,verifyPublicKey:s.verifyPublicKey}},function(t,e,i){const{BigInteger:r}=i(8);class n{constructor(){this.tlv=null,this.t="00",this.l="00",this.v=""}getEncodedHex(){return this.tlv||(this.v=this.getValue(),this.l=this.getLength(),this.tlv=this.t+this.l+this.v),this.tlv}getLength(){const t=this.v.length/2;let e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;return(128+e.length/2).toString(16)+e}getValue(){return""}}class o extends n{constructor(t){super(),this.t="02",t&&(this.v=function(t){let e=t.toString(16);if("-"!==e[0])e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{e=e.substr(1);let i=e.length;i%2==1?i+=1:e.match(/^[0-7]/)||(i+=2);let n="";for(let t=0;t<i;t++)n+="f";n=new r(n,16),e=n.xor(t).add(r.ONE),e=e.toString(16).replace(/^-/,"")}return e}(t))}getValue(){return this.v}}class s extends n{constructor(t){super(),this.t="30",this.asn1Array=t}getValue(){return this.v=this.asn1Array.map(t=>t.getEncodedHex()).join(""),this.v}}function a(t,e){return+t[e+2]<8?1:128&+t.substr(e+2,2)}function c(t,e){const i=a(t,e),n=t.substr(e+2,2*i);if(!n)return-1;return(+n[0]<8?new r(n,16):new r(n.substr(2),16)).intValue()}function u(t,e){return e+2*(a(t,e)+1)}t.exports={encodeDer(t,e){const i=new o(t),r=new o(e);return new s([i,r]).getEncodedHex()},decodeDer(t){const e=u(t,0),i=u(t,e),n=c(t,e),o=t.substr(i,2*n),s=i+o.length,a=u(t,s),h=c(t,s),l=t.substr(a,2*h);return{r:new r(o,16),s:new r(l,16)}}}},function(t,e,i){const{BigInteger:r,SecureRandom:n}=i(8),{ECCurveFp:o}=i(24),s=new n,{curve:a,G:c,n:u}=h();function h(){const t=new r("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFF",16),e=new r("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFC",16),i=new r("28E9FA9E9D9F5E344D5A9E4BCF6509A7F39789F515AB8F92DDBCBD414D940E93",16),n=new o(t,e,i),s=n.decodePointHex("0432C4AE2C1F1981195F9904466A39C9948FE30BBFF2660BE1715A4589334C74C7BC3736A2F4F6779C59BDCEE36B692153D0A9877CC62A474002DF32E52139F0A0");return{curve:n,G:s,n:new r("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFF7203DF6B21C6052B53BBF40939D54123",16)}}function l(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t}t.exports={getGlobalCurve:function(){return a},generateEcparam:h,generateKeyPairHex:function(t,e,i){const n=(t?new r(t,e,i):new r(u.bitLength(),s)).mod(u.subtract(r.ONE)).add(r.ONE),o=l(n.toString(16),64),a=c.multiply(n);return{privateKey:o,publicKey:"04"+l(a.getX().toBigInteger().toString(16),64)+l(a.getY().toBigInteger().toString(16),64)}},compressPublicKeyHex:function(t){if(130!==t.length)throw new Error("Invalid public key to compress");const e=(t.length-2)/2,i=t.substr(2,e);let n="03";return new r(t.substr(e+2,e),16).mod(new r("2")).equals(r.ZERO)&&(n="02"),n+i},utf8ToHex:function(t){const e=(t=unescape(encodeURIComponent(t))).length,i=[];for(let r=0;r<e;r++)i[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;const r=[];for(let t=0;t<e;t++){const e=i[t>>>2]>>>24-t%4*8&255;r.push((e>>>4).toString(16)),r.push((15&e).toString(16))}return r.join("")},leftPad:l,arrayToHex:function(t){return t.map(t=>1===(t=t.toString(16)).length?"0"+t:t).join("")},arrayToUtf8:function(t){const e=[];let i=0;for(let r=0;r<2*t.length;r+=2)e[r>>>3]|=parseInt(t[i],10)<<24-r%8*4,i++;try{const i=[];for(let r=0;r<t.length;r++){const t=e[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(t))}return decodeURIComponent(escape(i.join("")))}catch(t){throw new Error("Malformed UTF-8 data")}},hexToArray:function(t){const e=[];let i=t.length;i%2!=0&&(t=l(t,i+1)),i=t.length;for(let r=0;r<i;r+=2)e.push(parseInt(t.substr(r,2),16));return e},verifyPublicKey:function(t){const e=a.decodePointHex(t);if(!e)return!1;const i=e.getX();return e.getY().square().equals(i.multiply(i.square()).add(i.multiply(a.a)).add(a.b))},comparePublicKeyHex:function(t,e){const i=a.decodePointHex(t);if(!i)return!1;const r=a.decodePointHex(e);return!!r&&i.equals(r)}}},function(t,e,i){const{BigInteger:r}=i(8),n=new r("2"),o=new r("3");class s{constructor(t,e){this.x=e,this.q=t}equals(t){return t===this||this.q.equals(t.q)&&this.x.equals(t.x)}toBigInteger(){return this.x}negate(){return new s(this.q,this.x.negate().mod(this.q))}add(t){return new s(this.q,this.x.add(t.toBigInteger()).mod(this.q))}subtract(t){return new s(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))}multiply(t){return new s(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))}divide(t){return new s(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))}square(){return new s(this.q,this.x.square().mod(this.q))}}class a{constructor(t,e,i,n){this.curve=t,this.x=e,this.y=i,this.z=null==n?r.ONE:n,this.zinv=null}getX(){return null===this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}getY(){return null===this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}equals(t){if(t===this)return!0;if(this.isInfinity())return t.isInfinity();if(t.isInfinity())return this.isInfinity();if(!t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(r.ZERO))return!1;return t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(r.ZERO)}isInfinity(){return null===this.x&&null===this.y||this.z.equals(r.ZERO)&&!this.y.toBigInteger().equals(r.ZERO)}negate(){return new a(this.curve,this.x,this.y.negate(),this.z)}add(t){if(this.isInfinity())return t;if(t.isInfinity())return this;const e=this.x.toBigInteger(),i=this.y.toBigInteger(),n=this.z,o=t.x.toBigInteger(),s=t.y.toBigInteger(),c=t.z,u=this.curve.q,h=e.multiply(c).mod(u),l=o.multiply(n).mod(u),p=h.subtract(l),f=i.multiply(c).mod(u),d=s.multiply(n).mod(u),g=f.subtract(d);if(r.ZERO.equals(p))return r.ZERO.equals(g)?this.twice():this.curve.infinity;const m=h.add(l),v=n.multiply(c).mod(u),y=p.square().mod(u),w=p.multiply(y).mod(u),b=v.multiply(g.square()).subtract(m.multiply(y)).mod(u),S=p.multiply(b).mod(u),k=g.multiply(y.multiply(h).subtract(b)).subtract(f.multiply(w)).mod(u),T=w.multiply(v).mod(u);return new a(this.curve,this.curve.fromBigInteger(S),this.curve.fromBigInteger(k),T)}twice(){if(this.isInfinity())return this;if(!this.y.toBigInteger().signum())return this.curve.infinity;const t=this.x.toBigInteger(),e=this.y.toBigInteger(),i=this.z,r=this.curve.q,n=this.curve.a.toBigInteger(),s=t.square().multiply(o).add(n.multiply(i.square())).mod(r),c=e.shiftLeft(1).multiply(i).mod(r),u=e.square().mod(r),h=u.multiply(t).multiply(i).mod(r),l=c.square().mod(r),p=s.square().subtract(h.shiftLeft(3)).mod(r),f=c.multiply(p).mod(r),d=s.multiply(h.shiftLeft(2).subtract(p)).subtract(l.shiftLeft(1).multiply(u)).mod(r),g=c.multiply(l).mod(r);return new a(this.curve,this.curve.fromBigInteger(f),this.curve.fromBigInteger(d),g)}multiply(t){if(this.isInfinity())return this;if(!t.signum())return this.curve.infinity;const e=t.multiply(o),i=this.negate();let r=this;for(let n=e.bitLength()-2;n>0;n--){r=r.twice();const o=e.testBit(n);o!==t.testBit(n)&&(r=r.add(o?this:i))}return r}}t.exports={ECPointFp:a,ECCurveFp:class{constructor(t,e,i){this.q=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(i),this.infinity=new a(this,null,null)}equals(t){return t===this||this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)}fromBigInteger(t){return new s(this.q,t)}decodePointHex(t){switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:const e=this.fromBigInteger(new r(t.substr(2),16));let i=this.fromBigInteger(e.multiply(e.square()).add(e.multiply(this.a)).add(this.b).toBigInteger().modPow(this.q.divide(new r("4")).add(r.ONE),this.q));return i.toBigInteger().mod(n).equals(new r(t.substr(0,2),16).subtract(n))||(i=i.negate()),new a(this,e,i);case 4:case 6:case 7:const o=(t.length-2)/2,s=t.substr(2,o),c=t.substr(o+2,o);return new a(this,this.fromBigInteger(new r(s,16)),this.fromBigInteger(new r(c,16)));default:return null}}}}},function(t,e,i){const{sm3:r,hmac:n}=i(13);function o(t){return t.map(t=>1===(t=t.toString(16)).length?"0"+t:t).join("")}function s(t){const e=[];let i=t.length;var r,n;i%2!=0&&(n=i+1,t=(r=t).length>=n?r:new Array(n-r.length+1).join("0")+r),i=t.length;for(let r=0;r<i;r+=2)e.push(parseInt(t.substr(r,2),16));return e}t.exports=function(t,e){if(t="string"==typeof t?function(t){const e=[];for(let i=0,r=t.length;i<r;i++){const r=t.codePointAt(i);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>>6),e.push(128|63&r);else if(r<=55295||r>=57344&&r<=65535)e.push(224|r>>>12),e.push(128|r>>>6&63),e.push(128|63&r);else{if(!(r>=65536&&r<=1114111))throw e.push(r),new Error("input is not supported");i++,e.push(240|r>>>18&28),e.push(128|r>>>12&63),e.push(128|r>>>6&63),e.push(128|63&r)}}return e}(t):Array.prototype.slice.call(t),e){if("hmac"!==(e.mode||"hmac"))throw new Error("invalid mode");let i=e.key;if(!i)throw new Error("invalid key");return i="string"==typeof i?s(i):Array.prototype.slice.call(i),o(n(t,i))}return o(r(t))}},function(t,e){const i=[214,144,233,254,204,225,61,183,22,182,20,194,40,251,44,5,43,103,154,118,42,190,4,195,170,68,19,38,73,134,6,153,156,66,80,244,145,239,152,122,51,84,11,67,237,207,172,98,228,179,28,169,201,8,232,149,128,223,148,250,117,143,63,166,71,7,167,252,243,115,23,186,131,89,60,25,230,133,79,168,104,107,129,178,113,100,218,139,248,235,15,75,112,86,157,53,30,36,14,94,99,88,209,162,37,34,124,59,1,33,120,135,212,0,70,87,159,211,39,82,76,54,2,231,160,196,200,158,234,191,138,210,64,199,56,181,163,247,242,206,249,97,21,161,224,174,93,164,155,52,26,85,173,147,50,48,245,140,177,227,29,246,226,46,130,102,202,96,192,41,35,171,13,83,78,111,213,219,55,69,222,253,142,47,3,255,106,114,109,108,91,81,141,27,175,146,187,221,188,127,17,217,92,65,31,16,90,216,10,193,49,136,165,205,123,189,45,116,208,18,184,229,180,176,137,105,151,74,12,150,119,126,101,185,241,9,197,110,198,132,24,240,125,236,58,220,77,32,121,238,95,62,215,203,57,72],r=[462357,472066609,943670861,1415275113,1886879365,2358483617,2830087869,3301692121,3773296373,4228057617,404694573,876298825,1347903077,1819507329,2291111581,2762715833,3234320085,3705924337,4177462797,337322537,808926789,1280531041,1752135293,2223739545,2695343797,3166948049,3638552301,4110090761,269950501,741554753,1213159005,1684763257];function n(t){const e=[];for(let i=0,r=t.length;i<r;i+=2)e.push(parseInt(t.substr(i,2),16));return e}function o(t,e){return t<<e|t>>>32-e}function s(t){return(255&i[t>>>24&255])<<24|(255&i[t>>>16&255])<<16|(255&i[t>>>8&255])<<8|255&i[255&t]}function a(t){return t^o(t,2)^o(t,10)^o(t,18)^o(t,24)}function c(t){return t^o(t,13)^o(t,23)}function u(t,e,i){const r=new Array(4),n=new Array(4);for(let e=0;e<4;e++)n[0]=255&t[4*e],n[1]=255&t[4*e+1],n[2]=255&t[4*e+2],n[3]=255&t[4*e+3],r[e]=n[0]<<24|n[1]<<16|n[2]<<8|n[3];for(let t,e=0;e<32;e+=4)t=r[1]^r[2]^r[3]^i[e+0],r[0]^=a(s(t)),t=r[2]^r[3]^r[0]^i[e+1],r[1]^=a(s(t)),t=r[3]^r[0]^r[1]^i[e+2],r[2]^=a(s(t)),t=r[0]^r[1]^r[2]^i[e+3],r[3]^=a(s(t));for(let t=0;t<16;t+=4)e[t]=r[3-t/4]>>>24&255,e[t+1]=r[3-t/4]>>>16&255,e[t+2]=r[3-t/4]>>>8&255,e[t+3]=255&r[3-t/4]}function h(t,e,i,{padding:o="pkcs#7",mode:a,iv:h=[],output:l="string"}={}){if("cbc"===a&&("string"==typeof h&&(h=n(h)),16!==h.length))throw new Error("iv is invalid");if("string"==typeof e&&(e=n(e)),16!==e.length)throw new Error("key is invalid");if(t="string"==typeof t?0!==i?function(t){const e=[];for(let i=0,r=t.length;i<r;i++){const r=t.codePointAt(i);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>>6),e.push(128|63&r);else if(r<=55295||r>=57344&&r<=65535)e.push(224|r>>>12),e.push(128|r>>>6&63),e.push(128|63&r);else{if(!(r>=65536&&r<=1114111))throw e.push(r),new Error("input is not supported");i++,e.push(240|r>>>18&28),e.push(128|r>>>12&63),e.push(128|r>>>6&63),e.push(128|63&r)}}return e}(t):n(t):[...t],("pkcs#5"===o||"pkcs#7"===o)&&0!==i){const e=16-t.length%16;for(let i=0;i<e;i++)t.push(e)}const p=new Array(32);!function(t,e,i){const n=new Array(4),o=new Array(4);for(let e=0;e<4;e++)o[0]=255&t[0+4*e],o[1]=255&t[1+4*e],o[2]=255&t[2+4*e],o[3]=255&t[3+4*e],n[e]=o[0]<<24|o[1]<<16|o[2]<<8|o[3];n[0]^=2746333894,n[1]^=1453994832,n[2]^=1736282519,n[3]^=2993693404;for(let t,i=0;i<32;i+=4)t=n[1]^n[2]^n[3]^r[i+0],e[i+0]=n[0]^=c(s(t)),t=n[2]^n[3]^n[0]^r[i+1],e[i+1]=n[1]^=c(s(t)),t=n[3]^n[0]^n[1]^r[i+2],e[i+2]=n[2]^=c(s(t)),t=n[0]^n[1]^n[2]^r[i+3],e[i+3]=n[3]^=c(s(t));if(0===i)for(let t,i=0;i<16;i++)t=e[i],e[i]=e[31-i],e[31-i]=t}(e,p,i);const f=[];let d=h,g=t.length,m=0;for(;g>=16;){const e=t.slice(m,m+16),r=new Array(16);if("cbc"===a)for(let t=0;t<16;t++)0!==i&&(e[t]^=d[t]);u(e,r,p);for(let t=0;t<16;t++)"cbc"===a&&0===i&&(r[t]^=d[t]),f[m+t]=r[t];"cbc"===a&&(d=0!==i?r:e),g-=16,m+=16}if(("pkcs#5"===o||"pkcs#7"===o)&&0===i){const t=f.length,e=f[t-1];for(let i=1;i<=e;i++)if(f[t-i]!==e)throw new Error("padding is invalid");f.splice(t-e,e)}return"array"!==l?0!==i?f.map(t=>1===(t=t.toString(16)).length?"0"+t:t).join(""):function(t){const e=[];for(let i=0,r=t.length;i<r;i++)t[i]>=240&&t[i]<=247?(e.push(String.fromCodePoint(((7&t[i])<<18)+((63&t[i+1])<<12)+((63&t[i+2])<<6)+(63&t[i+3]))),i+=3):t[i]>=224&&t[i]<=239?(e.push(String.fromCodePoint(((15&t[i])<<12)+((63&t[i+1])<<6)+(63&t[i+2]))),i+=2):t[i]>=192&&t[i]<=223?(e.push(String.fromCodePoint(((31&t[i])<<6)+(63&t[i+1]))),i++):e.push(String.fromCodePoint(t[i]));return e.join("")}(f):f}t.exports={encrypt:(t,e,i)=>h(t,e,1,i),decrypt:(t,e,i)=>h(t,e,0,i)}},function(t,e,i){i(0);var r=i(2),n={common:0,ping:1,pong:2,normal:5,img:6},o={connected:"connected",disconnected:"disconnected",error:"error",offline:"offline",exist:"exist",online:"online"},s={offline:109001,exist:109002,paramError:109005,online:109006};function a(t,e,i){this.listeners={},this.catch=[],this.showLog=!1,this.url=/^ws/.test(t)?t:location.protocol.replace("http","ws")+"//"+location.host+"/"+t.replace(/^\//,""),this.appkey=e,this.params=i,this.open()}a.prototype.emit=function(t,e){if(r.log("info","emit message",[t,e]),!this.client)return r.log("info","缓存消息",[t,e]),void this.catch.push([t,e]);switch(this.client.readyState){case WebSocket.CLOSED:r.log("warn","连接已关闭");break;case WebSocket.CLOSING:r.log("warn","连接正在关闭");break;case WebSocket.CONNECTING:r.log("warn","连接正在建立"),r.log("info","缓存消息",[t,e]),this.catch.push([t,e]);break;case WebSocket.OPEN:this.client.send(JSON.stringify({type:n.normal,data:{event:t,payload:e}}))}},a.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},a.prototype.onConnected=function(t){this.on(o.connected,t)},a.prototype.onDisconnected=function(t){this.on(o.disconnected,t)},a.prototype.onError=function(t){this.on(o.error,t)},a.prototype._onError=function(t){r.error("error","socket连接异常",t),this.listeners.error&&this.listeners.error.forEach(e=>{e.call(void 0,t)})},a.prototype._onClose=function(){r.error("error","socket连接已关闭"),this.listeners.disconnected&&this.listeners.disconnected.forEach(t=>{t.call(void 0)}),clearInterval(this.pingTimer)},a.prototype._onMessage=function(t){try{var e=JSON.parse(t.data);switch(r.log("info","socket接收消息",e),e.type){case n.common:this._onCommon(e.data);break;case n.ping:this._onPing(e.data);break;case n.pong:this._onPong(e.data);break;case n.normal:this._onNormal(e.data);break;case n.img:this._onImg(e.data)}}catch(t){r.error("error","socket接收消息异常",t)}},a.prototype._onCommon=function(t){switch(t.code){case s.offline:r.log("info","对端下线"),this.listeners.offline&&this.listeners.offline.forEach(e=>{e.call(void 0,t)});break;case s.exist:r.log("info","连接已存在（第3人登录提示）"),this.listeners.exist&&this.listeners.exist.forEach(e=>{e.call(void 0,t)});break;case s.paramError:r.log("info","参数错误"),this.listeners.paramError&&this.listeners.paramError.forEach(e=>{e.call(void 0,t)});break;case s.online:r.log("info","对端上线"),this.listeners.online&&this.listeners.online.forEach(e=>{e.call(void 0,t)})}},a.prototype._onPing=function(t){r.log("info","收到ping消息"),this.client.send(JSON.stringify({type:n.pong,data:{time:t.time}}))},a.prototype._onPong=function(t){r.log("info","收到pong消息")},a.prototype._onNormal=function(t){this.listeners[t.event]&&this.listeners[t.event].forEach(e=>{e.call(void 0,t.payload)})},a.prototype._onImg=function(t){this.listeners.img&&this.listeners.img.forEach(e=>{e.call(void 0,t)})},a.prototype.open=function(){var t=[];for(var e in this.params)t.push(e+"="+this.params[e]);this.client=new WebSocket(this.url+"?appKey="+this.appkey+"&"+t.join("&"));var i=this;this.client.onopen=function(){i._onOpen()},this.client.onclose=function(){i._onClose()},this.client.onerror=function(t){i._onError(t)},this.client.onmessage=function(t){i._onMessage(t)}},a.prototype._onOpen=function(){r.log("info","socket连接成功"),this.listeners[o.connected]&&this.listeners[o.connected].forEach(t=>{t.call(void 0,this.token)}),r.log("info","clear catch",this.catch),this.catch.forEach(([t,e])=>{this.emit(t,e)}),this.catch=[],this.ping()},a.prototype.ping=function(t){this.pingTimer=setInterval(()=>{this.client.send(JSON.stringify({type:n.ping}))},3e3)},a.prototype.close=function(){this.client.close()},a.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},a.prototype.off=function(t,e){this.listeners[t]&&(this.listeners[t]=this.listeners[t].filter(t=>t!==e))},a.prototype.emit=function(t,e){if(r.log("info","emit message",[t,e]),!this.client)return r.log("info","缓存消息",[t,e]),void this.catch.push([t,e]);switch(this.client.readyState){case WebSocket.CLOSED:r.log("warn","连接已关闭");break;case WebSocket.CLOSING:r.log("warn","连接正在关闭");break;case WebSocket.CONNECTING:r.log("warn","连接正在建立"),this.catch.push([t,e]);break;case WebSocket.OPEN:this.client.send(JSON.stringify({type:n.normal,data:{event:t,payload:e}}))}},a.prototype.sendImg=function(t){if(r.log("info","emit img",t),!this.client)return r.log("info","缓存图片",t),void this.catch.push(["img",t]);switch(this.client.readyState){case WebSocket.CLOSED:r.log("warn","连接已关闭");break;case WebSocket.CLOSING:r.log("warn","连接正在关闭");break;case WebSocket.CONNECTING:r.log("warn","连接正在建立");break;case WebSocket.OPEN:this.client.send(JSON.stringify({type:n.img,data:t}))}},a.prototype.showLog=function(t){this.showLog=t},a.prototype.reconnect=function(){this.close(),this.open()},a.prototype.destroy=function(){this.close(),this.client=void 0,this.listeners={},this.catch=[],this.showLog=!1},t.exports=a},,,function(t,e,i){var r=i(15),n=i(1);DEFAULT_CONFIG={api_host:"https://su.zhugeio.com",api_host_bac:"https://su.zhugeio.com",debug:!1,inherit_user_data:!0,ping:!1,ping_interval:12e3,idle_timeout:3e5,idle_threshold:1e4,track_link_timeout:300,cookie_expire_days:365,did_cookie_expire_days:365,cookie_cross_subdomain:!0,cookie_secure:!1,info_upload_interval_days:7,session_interval_mins:30,app_channel:"js",app_version:"1.0",superProperty:"{}",platform:"{}",autoTrack:!1,openLanding:!0,isClickAble:null,redirectAfterTrack:!1,visualizer:!1,deepShare:!1,onLoadDeepShare:null,utm:{},adTrack:!1,adCollect:!1,zgsee:!1,autoUploadByApp:!0,did:"",wechart:!1,updateUtm:!1,shareToUtm:{},storeMode:"cookie",privacySplitRule:{privacy:!1,maxLength:10,beginLength:3,endLength:3,replaceStr:"..."},alwaysLanding:!1,exposure:!1,duration:!1,adLanding:null,useAjax:!1,encrypt:!1,publicKey:"MIIBojANBgkqhkiG9w0BAQEFAAOCAY8AMIIBigKCAYEA5FhCfmlBx2dlDoAs9U9WgnFd4BXbPJoT52ptYB1t6zcxpv3bYzRrUvEqy0utrrUqkJPCGR5rFG+K4ph2ywoz9VpdjAyEFeAmik7nGgd0AxhJK9Vjl2GsEsJ7FBoHkDLbXdiDOnJflvPXlqfOwte+Tr4tZAUVm2PYGbVlgwQdUlM/dLPmPpRp5wVauv+waLBPcIVBMgNPl9xUqU4KLCtMj/OzHetdJEWMM3bk3s1TpgE8fR+T+63RvQ4ydveC/do2NIFqK2NoO7dIE5YFUwh0ImVV7nDZkgGYu/+i9/6zN4H4GqUKfSRMEhj7EsR3iMVkLVhC1LXfTxeHgHWRL8mVhi7s/SF2E+UDghBleW1/iQbCj3VVypjGBTIdp1kTfNrEJSEtsirnzqMDZRKVsocd4RMb/rLsYmI8VlUNZJSI0Vqr6ywH1mFM92lqzH1y2H4RGVkpbUqmfUiH3aCzRsN271im26vV16XU7LDSPqMr4l4P9sOszo6YwyC/6cXZduzlAgMBAAE=",skipAppkeyCheck:!1,clickBlackList:null};for(var o=window.zanalytics||window.zhuge||[],s=new r(DEFAULT_CONFIG),a=0;a<o.length;a++)if("_init"===o[a][0]){var c=o.shift(),u=c.shift();c.push((function(){for(;o&&o.length>0;){var t=o.shift(),e=t.shift();s[e]&&s[e].apply(s,t)}})),s[u]&&s[u].apply(s,c);break}if(s.config.deepShare){var h=new Date,l=h.getFullYear().toString()+h.getMonth().toString()+h.getDate().toString();n.loadJs({src:"https://su.zhugeio.com/deepshare.min.js?v="+l,onLoad:s.config.onLoadDeepShare})}s.env=Object({API_SERVER_ORIGIN:"https://su.zhugeio.com",LOG_API_ORIGIN:"https://su.zhugeio.com",LOG_API_ORIGIN_BAC:"https://su.zhugeio.com",SDK_DOWNLOAD_SRC:"https://su.zhugeio.com",SOCKET_URL:"wss://saas.zhugeio.com",SOCKET_PREFIX:"/analysis/socket",ZGSEE_SOCKET:"wss://zgsee-gw.zhugeio.com/",ZGSEE_APPKEY:"https://su.zhugeio.com",SHOW_LOG:!1,PUBKEY:"MIIBojANBgkqhkiG9w0BAQEFAAOCAY8AMIIBigKCAYEA5FhCfmlBx2dlDoAs9U9WgnFd4BXbPJoT52ptYB1t6zcxpv3bYzRrUvEqy0utrrUqkJPCGR5rFG+K4ph2ywoz9VpdjAyEFeAmik7nGgd0AxhJK9Vjl2GsEsJ7FBoHkDLbXdiDOnJflvPXlqfOwte+Tr4tZAUVm2PYGbVlgwQdUlM/dLPmPpRp5wVauv+waLBPcIVBMgNPl9xUqU4KLCtMj/OzHetdJEWMM3bk3s1TpgE8fR+T+63RvQ4ydveC/do2NIFqK2NoO7dIE5YFUwh0ImVV7nDZkgGYu/+i9/6zN4H4GqUKfSRMEhj7EsR3iMVkLVhC1LXfTxeHgHWRL8mVhi7s/SF2E+UDghBleW1/iQbCj3VVypjGBTIdp1kTfNrEJSEtsirnzqMDZRKVsocd4RMb/rLsYmI8VlUNZJSI0Vqr6ywH1mFM92lqzH1y2H4RGVkpbUqmfUiH3aCzRsN271im26vV16XU7LDSPqMr4l4P9sOszo6YwyC/6cXZduzlAgMBAAE="}),window.zanalytics=s,window.zhuge=s}]);